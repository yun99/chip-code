var t={CHAR_TILDE:102},r=1,i=2,e=3,h=4,s=5;function n(t,r){return void 0===r?t>=32?t-32:t+64:parseInt(String.fromCharCode(t)+String.fromCharCode(r))}function c(t,s){var n=a(t);return n==r||(n==i||(n==e&&s==e||n==h&&s==h))}function a(t){return t>=48&&t<=57?r:t>=32&&t<=95?i:t<32?e:h}exports.code128=function(r,o,l,d){l=parseInt(l),d=parseInt(d);for(var p=function(r){var u={currcs:s},f=function(t){for(var r=[],i=0;i<t.length;i++)r.push(t.charCodeAt(i));return r}(r),o=126==f[0]?1:0,l=f.length>0?a(f[o++]):i,d=f.length>0?a(f[o++]):i;u.currcs=R(l,d),u.currcs=C(f,u.currcs);var p=new Array;switch(u.currcs){case e:p.push(103);break;case h:p.push(104);break;default:p.push(105)}for(var g=0;g<f.length;g++){var v=f[g];v in t&&(p.push(t[v]),v=f[++g]);var w=f.length>g+1?f[g+1]:-1;p=p.concat(y(v,w,u.currcs)),u.currcs==s&&g++}for(var _=p[0],b=1;b<p.length;b++)_+=b*p[b];return p.push(_%103),p.push(106),p;function R(t,r){var i=0;return i+=t==e?1:0,i+=t==h?-1:0,i+=r==e?1:0,(i+=r==h?-1:0)>0?e:h}function C(t,r){for(var i=0;i<t.length;i++){var e=t[i];if((e<48||e>57)&&126!=e)return r}return s}function y(t,r,i){var a=[],f=-1;if(c(t,i))i==s&&(-1==r?(f=100,i=h):-1==r||c(r,i)||(c(r,e)?(f=101,i=e):(f=100,i=h)));else if(-1==r||c(r,i))f=98;else switch(i){case e:f=100,i=h;break;case h:f=101,i=e}return-1!=f?(a.push(f),a.push(n(r))):i==s?a.push(n(t,r)):a.push(n(t)),u.currcs=i,a}}(o),g=new u(r,l,d),v=g.area.width/(11*(p.length-3)+35),w=g.area.left,_=g.area.top,b=0;b<p.length;b++)for(var R=p[b],C=0;C<8;C+=2){var y=f[R][C]*v,z=d-_,x=f[R][C+1]*v;y>0&&g.fillFgRect(w,_,y,z),w+=y+x}r.draw()};var u=function(t,r,i){this.width=r,this.height=i,this.quiet=Math.round(this.width/40),this.border_size=0,this.padding_width=0,this.area={width:r-2*this.padding_width-2*this.quiet,height:i-2*this.border_size,top:this.border_size-4,left:this.padding_width+this.quiet},this.ctx=t,this.fg="#000000",this.bg="#ffffff",this.fillBgRect(0,0,r,i),this.fillBgRect(0,this.border_size,r,i-2*this.border_size)};u.prototype._fillRect=function(t,r,i,e,h){this.ctx.setFillStyle(h),this.ctx.fillRect(t,r,i,e)},u.prototype.fillFgRect=function(t,r,i,e){this._fillRect(t,r,i,e,this.fg)},u.prototype.fillBgRect=function(t,r,i,e){this._fillRect(t,r,i,e,this.bg)};var f=[[2,1,2,2,2,2,0,0],[2,2,2,1,2,2,0,0],[2,2,2,2,2,1,0,0],[1,2,1,2,2,3,0,0],[1,2,1,3,2,2,0,0],[1,3,1,2,2,2,0,0],[1,2,2,2,1,3,0,0],[1,2,2,3,1,2,0,0],[1,3,2,2,1,2,0,0],[2,2,1,2,1,3,0,0],[2,2,1,3,1,2,0,0],[2,3,1,2,1,2,0,0],[1,1,2,2,3,2,0,0],[1,2,2,1,3,2,0,0],[1,2,2,2,3,1,0,0],[1,1,3,2,2,2,0,0],[1,2,3,1,2,2,0,0],[1,2,3,2,2,1,0,0],[2,2,3,2,1,1,0,0],[2,2,1,1,3,2,0,0],[2,2,1,2,3,1,0,0],[2,1,3,2,1,2,0,0],[2,2,3,1,1,2,0,0],[3,1,2,1,3,1,0,0],[3,1,1,2,2,2,0,0],[3,2,1,1,2,2,0,0],[3,2,1,2,2,1,0,0],[3,1,2,2,1,2,0,0],[3,2,2,1,1,2,0,0],[3,2,2,2,1,1,0,0],[2,1,2,1,2,3,0,0],[2,1,2,3,2,1,0,0],[2,3,2,1,2,1,0,0],[1,1,1,3,2,3,0,0],[1,3,1,1,2,3,0,0],[1,3,1,3,2,1,0,0],[1,1,2,3,1,3,0,0],[1,3,2,1,1,3,0,0],[1,3,2,3,1,1,0,0],[2,1,1,3,1,3,0,0],[2,3,1,1,1,3,0,0],[2,3,1,3,1,1,0,0],[1,1,2,1,3,3,0,0],[1,1,2,3,3,1,0,0],[1,3,2,1,3,1,0,0],[1,1,3,1,2,3,0,0],[1,1,3,3,2,1,0,0],[1,3,3,1,2,1,0,0],[3,1,3,1,2,1,0,0],[2,1,1,3,3,1,0,0],[2,3,1,1,3,1,0,0],[2,1,3,1,1,3,0,0],[2,1,3,3,1,1,0,0],[2,1,3,1,3,1,0,0],[3,1,1,1,2,3,0,0],[3,1,1,3,2,1,0,0],[3,3,1,1,2,1,0,0],[3,1,2,1,1,3,0,0],[3,1,2,3,1,1,0,0],[3,3,2,1,1,1,0,0],[3,1,4,1,1,1,0,0],[2,2,1,4,1,1,0,0],[4,3,1,1,1,1,0,0],[1,1,1,2,2,4,0,0],[1,1,1,4,2,2,0,0],[1,2,1,1,2,4,0,0],[1,2,1,4,2,1,0,0],[1,4,1,1,2,2,0,0],[1,4,1,2,2,1,0,0],[1,1,2,2,1,4,0,0],[1,1,2,4,1,2,0,0],[1,2,2,1,1,4,0,0],[1,2,2,4,1,1,0,0],[1,4,2,1,1,2,0,0],[1,4,2,2,1,1,0,0],[2,4,1,2,1,1,0,0],[2,2,1,1,1,4,0,0],[4,1,3,1,1,1,0,0],[2,4,1,1,1,2,0,0],[1,3,4,1,1,1,0,0],[1,1,1,2,4,2,0,0],[1,2,1,1,4,2,0,0],[1,2,1,2,4,1,0,0],[1,1,4,2,1,2,0,0],[1,2,4,1,1,2,0,0],[1,2,4,2,1,1,0,0],[4,1,1,2,1,2,0,0],[4,2,1,1,1,2,0,0],[4,2,1,2,1,1,0,0],[2,1,2,1,4,1,0,0],[2,1,4,1,2,1,0,0],[4,1,2,1,2,1,0,0],[1,1,1,1,4,3,0,0],[1,1,1,3,4,1,0,0],[1,3,1,1,4,1,0,0],[1,1,4,1,1,3,0,0],[1,1,4,3,1,1,0,0],[4,1,1,1,1,3,0,0],[4,1,1,3,1,1,0,0],[1,1,3,1,4,1,0,0],[1,1,4,1,3,1,0,0],[3,1,1,1,4,1,0,0],[4,1,1,1,3,1,0,0],[2,1,1,4,1,2,0,0],[2,1,1,2,1,4,0,0],[2,1,1,2,3,2,0,0],[2,3,3,1,1,1,2,0]];