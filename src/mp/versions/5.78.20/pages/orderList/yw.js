var e=Object.defineProperty,t=Object.getOwnPropertySymbols,o=Object.prototype.hasOwnProperty,a=Object.prototype.propertyIsEnumerable,r=(t,o,a)=>o in t?e(t,o,{enumerable:!0,configurable:!0,writable:!0,value:a}):t[o]=a,s=(e,s)=>{for(var i in s||(s={}))o.call(s,i)&&r(e,i,s[i]);if(t)for(var i of t(s))a.call(s,i)&&r(e,i,s[i]);return e},i=getApp();Component({externalClasses:["external-class"],properties:{show:{type:Boolean,value:!1,observer(e){e||this.setData({isNoticeBoardShow:e})}},noticeBoardInfo:{type:Object,observer(e){if(this.setData({pageNoticeBoardInfo:s({},e)}),null==e?void 0:e.msg){this.setData(s({"pageNoticeBoardInfo.id":e.id||e.msgId,"pageNoticeBoardInfo.type":void 0!==e.type?e.type:e.msgType},e.jumpProtocol||e.linkUrl?{"pageNoticeBoardInfo.jumpProtocol":e.jumpProtocol||e.linkUrl}:{}));const t=i.$store.getOrInit("noticeModel").value,o=t.findIndex((e=>e.id===this.data.pageNoticeBoardInfo.id&&e.opsource===this.data.opsource));~o&&Date.now()-t[o].date<=864e5?this.setData({isNoticeBoardShow:!1}):(i.$lxLog.mv("b_oyvzlozp",{custom:{message:null==e?void 0:e.msg}}),this.setData({isNoticeBoardShow:this.data.show}))}},value:{}},opsource:{type:String,value:"CART"},popShow:{type:Boolean,value:!1},customStyle:{type:String,value:""},customTextStyle:{type:String,value:""}},data:{popMsg:"",pageNoticeBoardInfo:{},isNoticeBoardShow:!1},methods:{handleClose(){return e=this,t=null,o=function*(){const{type:e,popMsg:t,id:o,jumpProtocol:a,cycleType:r,msg:s}=this.data.pageNoticeBoardInfo,{opsource:n}=this.data;if(i.$lxLog.mc("b_chaoshi_yb03jlow_mc",{custom:{message:s}}),void 0!==r&&2!==r){this.triggerEvent("close");const e=i.$store.getOrInit("noticeModel").value,t=e.findIndex((e=>e.opsource===n&&e.id===o));if(~t)e[t].date=Date.now();else{const t={id:o,opsource:n,date:Date.now()};e.push(t)}i.$store.updateCache("noticeModel",e)}switch(void 0!==e&&+e){case 0:this.triggerEvent("close");break;case 1:this.triggerEvent("showPop"),i.page().alert({message:t,ok:()=>{this.triggerEvent("closePop")}});break;case 2:i.$router.goto(a)}},new Promise(((a,r)=>{var s=e=>{try{n(o.next(e))}catch(e){r(e)}},i=e=>{try{n(o.throw(e))}catch(e){r(e)}},n=e=>e.done?a(e.value):Promise.resolve(e.value).then(s,i);n((o=o.apply(e,t)).next())}));var e,t,o},getBoardHeight(){const e=wx.createSelectorQuery().in(this);return new Promise((t=>{e.select(".notice-board").boundingClientRect(),e.exec((e=>{t(e[0]&&e[0].height||0)}))}))},handleMaskClick(){this.setData({popShow:!1})},getInnerNoticeBoardShow(){return this.data.isNoticeBoardShow}}});