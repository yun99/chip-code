var e=Object.create,t=Object.defineProperty,r=Object.defineProperties,o=Object.getOwnPropertyDescriptor,s=Object.getOwnPropertyDescriptors,i=Object.getOwnPropertyNames,a=Object.getOwnPropertySymbols,n=Object.getPrototypeOf,l=Object.prototype.hasOwnProperty,u=Object.prototype.propertyIsEnumerable,c=(e,r,o)=>r in e?t(e,r,{enumerable:!0,configurable:!0,writable:!0,value:o}):e[r]=o,p=(e,t)=>{for(var r in t||(t={}))l.call(t,r)&&c(e,r,t[r]);if(a)for(var r of a(t))u.call(t,r)&&c(e,r,t[r]);return e},d=(e,t)=>r(e,s(t)),y=r=>{return((e,r,s)=>{if(r&&"object"==typeof r||"function"==typeof r)for(let a of i(r))l.call(e,a)||"default"===a||t(e,a,{get:()=>r[a],enumerable:!(s=o(r,a))||s.enumerable});return e})((s=t(null!=r?e(n(r)):{},"default",r&&r.__esModule&&"default"in r?{get:()=>r.default,enumerable:!0}:{value:r,enumerable:!0}),t(s,"__esModule",{value:!0})),r);var s},g=(e,t,r)=>new Promise(((o,s)=>{var i=e=>{try{n(r.next(e))}catch(e){s(e)}},a=e=>{try{n(r.throw(e))}catch(e){s(e)}},n=e=>e.done?o(e.value):Promise.resolve(e.value).then(i,a);n((r=r.apply(e,t)).next())})),m=y(require("../../er.js")),h=y(require("../../ob.js")),f=y(require("../../u8.js")),T=y(require("../../p0.js")),v=y(require("../../is.js")),S=(y(require("../../f8.js")),y(require("../../u3.js"))),_=y(require("./p9.js")),O=y(require("../../f6.js")),b=y(require("./f7.js")),P=y(require("./s1.js")),C=y(require("./f9.js")),I=y(require("./f0.js")),x=y(require("./gq.js")),E=y(require("../../gw.js")),M=y(require("./gr.js")),D=y(require("./ge.js")),R=getApp(),{$cat:U,$version:L,$systemInfo:w}=R,{subscribe:k}=require("../../sz.js"),N=!0;(0,S.default)(R.$systemInfo.getSystemInfo("SDKVersion"),"2.7.0")<0&&(N=!1),N=N;var A=!1;A=(()=>{wx.getSystemInfoSync();const{version:e}=wx.getSystemInfoSync();return(!R.$systemInfo.isIOS()&&(0,S.default)(e,"8.0.3")>=0||(0,S.default)(e,"8.0.6")>=0)&&(A=!0),A})(),P.default.register(R.$module),(0,m.default)({data:{isInWX:(0,f.isInWX)(),isTT:(0,f.isTT)(),__isPageReady:!1,canShowSharePop:!1,shareInfo:{picUrl:"",shareDetail:{}},windowHeight:R.$systemInfo.getSystemInfo("windowHeight"),isShowReturnTopBtn:!1,isNoMoreCommand:!1,payResult:C.PayResult[10],traceId:"",isPaySuccess:!1,isWx:(0,f.isInWX)()||(0,f.isWXMT)(),shouldGotoShareLanding:!1,versionFlag:A,qrCodeImgUrl:"",sdkFlag:N},__isPaySuccessPage:!0,orderShareController:{},paySuccessCouponTimer:null,paySuccessMetricReport:new x.default,onLoadOptions:{},isPageShow:!1,skuIds:[],offset:0,LIMIT:10,getPayResultTimes:0,getPayResultHandle:null,renderStartTime:0,renderEndTime:0,shareToken:"",freeOrderData:{},activityPopData:{},onLoad(e){var t,r;R.$lxLog.mv("b_youxuan_3s96r0nt_mv",{},{cid:"c_youxuan_931cif73"}),this.renderStartTime=Date.now(),this.getPayResultTimes=0,this.onLoadOptions=e||{},null==(t=this.paySuccessMetricReport)||t.resetReportSymbol(),null==(r=this.paySuccessMetricReport)||r.reportPaySuccessOnLoadCount(v.YXReportTarget,v.ReportValue,U,L,w),this.afterFirstRenderOperator(),this.disablePageShareFunction()},onShow(){this.isPageShow=!0,R.$event.emit(R.$event.CONTANTS.CLEAR_CART_PAY_NOT_SUCCESSURL)},onReady(){var e;null==(e=this.paySuccessMetricReport)||e.reportPaySuccessOnReadyCount(v.YXReportTarget,v.ReportValue,U,L,w)},onPageScroll(e){var t,r;const o=2*((null==(r=null==(t=R.getModule("systemInfo"))?void 0:t.systemInfo)?void 0:r.screenHeight)||667),s=e.scrollTop>=o;s!==this.data.isShowReturnTopBtn&&this.setData({isShowReturnTopBtn:s}),this.data.isShowSubmitBar||this.setData({isShowSubmitBar:!0})},onReachBottom(){},onUnload(){clearInterval(this.paySuccessCouponTimer),clearTimeout(this.getPayResultHandle)},onHide(){this.isPageShow=!1},renderMain(e,t){var r,o,s,i;const a=this.getTransactionComposite(e),n=(null==(r=((null==e?void 0:e.experiments)||[]).find((e=>"pay_success_page_optimize_group1"===e.groupKey)))?void 0:r.expKey)||"d",l=(0,f.isTT)()?{}:this.doAbTest(n);this.metricsSetData(p(p({orderId:(null==(o=this.onLoadOptions)?void 0:o.orderId)||"",showPop:1==+(null==(s=this.onLoadOptions)?void 0:s.showPop)||!1,shippingType:+(null==(i=this.onLoadOptions)?void 0:i.shippingType)},a),l),{fmp:!0,fmpParams:this.onLoadOptions||{},extra:(0,T.getPerformanceExtraData)()},(()=>{if(!this.renderEndTime){this.renderEndTime=Date.now();const e=this.renderEndTime-this.renderStartTime;h.log.info("<paySuccess metricsSetData> 支付成功页首屏渲染时间为",e),R.$lxLog.mv("b_youxuan_bzvp92vn_mv",{fmp:e})}this.renderSecondary(t).then((()=>{this.afterFirstRenderOperator(n)}))}))},renderSecondary(e){return g(this,null,(function*(){const[t={},{"pay-success":r={},"pay-success-offical-account":o={}}]=yield e;let s;s="d"===this.data.abTest?p(p(p({},this.formatMarketingMsg(t)),this.getCustomerRights(r)),this.getCustomerFocus(o)):p(p(p({},this.newFormatMarketingMsg(t)),this.parseBYZXIHEX(t)),this.getCustomerFocus(o)),delete s.styleMap,this.setData(s)}))},afterFirstRenderOperator(e){var t;null==(t=this.paySuccessMetricReport)||t.reportPaySuccessFMPCount(v.YXReportTarget,v.ReportValue,U,L,w);const{orderId:r}=this.onLoadOptions;this.getPayResult(r),this.setData({canShare:!!this.shareToken,__isPageReady:!0},(()=>{this.reportOrderType()}))},disablePageShareFunction:()=>(wx.hideShareMenu({}),{}),reportOrderType(){var e,t,r;+(null==(e=this.onLoadOptions)?void 0:e.subscribe)&&(0,O.paySuccess)(null==(t=this.onLoadOptions)?void 0:t.orderId,"group"===(null==(r=this.onLoadOptions)?void 0:r.orderType)?"拼团提单":"普通提单")},lazyLoadBase(){this.setData({__isPageReady:!0})},getPayResult(e){return g(this,null,(function*(){var t;if(!(this.getPayResultTimes>=3)){this.getPayResultTimes++;try{const r=+(yield _.getPayResult({orderId:e}));11===r?(h.log.info("<paySuccess getPayResult> 支付结果为成功"),clearTimeout(this.getPayResultHandle),null==(t=this.paySuccessMetricReport)||t.reportPaySuccessCount(v.YXReportTarget,v.ReportValue,U,L,w)):this.getPayResultHandle=setTimeout((()=>{this.getPayResult(e)}),1500),this.setData({payResult:C.PayResult[r],isPaySuccess:11===r})}catch(e){h.log.warn("<paySuccess getPayResult> 查询支付结果失败",JSON.stringify(e)),this.setData({payResult:C.PayResult[11],isPaySuccess:!0}),clearTimeout(this.getPayResultHandle)}}}))},initShareController(e,t,r){this.orderShareController=new I.default({orderId:e,token:t,shareCardType:r},!0)},onTapFreeOrder(){return g(this,null,(function*(){yield this.subscribeFreeOrder(),this.setData({showFreeOrderPopup:!1})}))},subscribeFreeOrder(){return g(this,null,(function*(){var e;const t=["freeOrder"],r=R.page();let o=!1;if((0,f.isMMP)()||(0,f.isWXMT)()||(0,f.isTT)())return r.toast("活动消息订阅成功");try{const s=yield k(t);o=s.isShowConfirm,(o||s.data&&"resolve"===(null==(e=s.data[0])?void 0:e.status))&&r.toast("活动消息订阅成功")}catch(e){if(h.log.error("<$activity.getFreeOrder> 订阅免单特权失败",null==e?void 0:e.errMsg),"99994"===e.errCode||"99998"===e.errCode)return void r.toast(e.errMsg);if("99995"===e.errCode)return void r.toast("取消提醒可能会错过免单权益哦！");const{errData:{data:t}}=({errData:{}}=e);t&&Object.keys(t).every((e=>"reject"!==t[e]))?r.toast("订阅失败 请稍后重试"):r.toast("请打开订阅模板功能，重新尝试")}}))},closeFreeOrderPop(){this.toast("取消提醒可能会错过免单权益哦！"),this.setData({showFreeOrderPopup:!1})},closeHongbaoPopup(){this.setData({showHongbaoPopup:!1})},getTransactionComposite(e){var t;let r={},o=!0;const{sucInfo:{data:s}={},payVirtual:{data:i}={},experiments:a=[]}=e,n=null==s?void 0:s.qrCodeInfo;void 0===n||void 0===(null==n?void 0:n.qrCodeImgUrl)?o=!1:this.setQrCodeInfo(n),this.setData({isNewCustomer:o});const l=(null==(t=a.find((e=>"pay_success_page_optimize_group1"===e.groupKey)))?void 0:t.expKey)||"d";return i&&(this.skuIds=i.skuIds||[]),r=d(p({},this.getSelfLiftingInfo(s)),{abTest:l}),r},setFontRed:e=>({redBeforeStr:e.match(/([\s\S]*)<red>/)[1],redPartStr:e.match(/<red>([\s\S]*)<\/red>/)[1]}),setQrCodeInfo(e){const t=e.wxHighVersionText1,{redBeforeStr:r,redPartStr:o}=this.setFontRed(t);!0===this.data.versionFlag?this.setData({newText:e.wxHighVersionText2}):this.setData({oldText:e.wxLowVersionText2}),this.setData({title:e.title,redBeforeStr:r,redPartStr:o,qrCodeImgUrl:e.qrCodeImgUrl})},getSelfLiftingInfo(e={}){try{const{selfLiftInfo:t={},token:r,tips:o=[]}=e,{showLayer:s=!1,selfTipNoticeMsg:i="",selfLiftingTimeLayer:a=""}=t,n=o.find((e=>6===e.type||7===e.type))||{},{popMsg:l="",popSubMsg:u="",type:c=""}=n;let p={},d=!1,y=2;if(7===c)d=!0,y=1,p=this.formatElevenContractMsg({isVipFirst:!0,subTitle:l,selfTipNoticeMsg:u});else if(s){d=!0,y=1;const e="23:00~24:00为预售时间段 您的订单提货时间为";p=this.formatElevenContractMsg({isVipFirst:!1,subTitle:e,selfTipNoticeMsg:i,selfLiftingTimeLayer:a})}else 6===c&&(d=!0,y=1,p=this.formatElevenContractMsg({isVipFirst:!0,subTitle:l,selfTipNoticeMsg:u}),R.$lxLog.mv("b_youxuan_j8t0yx9w_mv"));r?this.shareToken=r:h.log.warn("<paySuccess getSelfLiftingInfo> 未获取到订单分享token");const{selfLiftingTime:g,personNameAndMobileStr:m,selfLiftingAddressName:f}=t;return{selfLiftingTime:g,personNameAndMobileStr:m,selfLiftingAddressName:f,elevenContractType:y,elevenContractShow:d,elevenContractAlertMsg:p}}catch(e){return h.log.error("<paySuccess getSelfLiftingInfo> 获取自提点信息异常",e),{}}},formatElevenContractMsg:({isVipFirst:e=!1,subTitle:t="",selfTipNoticeMsg:r="",selfLiftingTimeLayer:o=""})=>({isVipFirst:e,subTitle:t,selfTipNoticeMsg:r,selfLiftingTimeLayer:o}),onTapFocus(){return g(this,null,(function*(){var e,t;if(b.default.onSubscriptionClick(),null==(e=this.onLoadOptions)?void 0:e.subscribe)try{yield(0,O.subscribeAfterPay)("group"===(null==(t=this.onLoadOptions)?void 0:t.orderType)?["pickUp","groupFail","groupSuccess"]:["pickUp","delivery","collected"])}catch(e){h.log.warn("点击用户关注模块订阅失败：",e),R.page().toast(e.errMsg)}R.$router.goto(this.data.focusSource.jumpUrl)}))},onSharePopClose(){this.setData({showPop:!1,canShowPop:!1})},remindHeaderMessage(e){var t;const{shouldGotoShareLanding:r=!1}=this.data;return this.orderShareController.getShareMessage({orderId:null==(t=this.onLoadOptions)?void 0:t.orderId,poiId:R.$poiId,poiIdStr:R.$poi.getPoiIdStr(),token:this.shareToken,from:"paySuccess",hitGray:r},(t=>{var r;const{path:o,requestId:s}=R.$lxLog.genLxSharePath(this.route,t.path);t.path=o,"button"===e?b.default.onShareRemindClick():R.$lxLog.mc("b_youxuan_y5g64pno_mc",{share_url:t.path,order_id:null==(r=this.onLoadOptions)?void 0:r.orderId},{requestId:s}),h.log.info("支付成功页分享",t.path)}))},setSharePop(e){const{iconUrl:t,shareDetail:r}=e;this.setData({canShowSharePop:!0,shareInfo:{iconUrl:t,shareDetail:r}}),R.$lxLog.mv("b_si2n3g67")},filterShareData(e){let t={};return e.forEach((e=>{if(1==+e.channel){if(1==+e.shareType&&e.h5Url){const r=`${e.h5Url}${e.h5Url.indexOf("?")>-1?"&":"?"}from_app=meituan`;t={title:e.h5Title,subTitle:e.h5SubTitle,imageUrl:e.h5PicUrl,path:`pages/h5Container/index?url=${encodeURIComponent(r)}`}}2==+e.shareType&&(t={title:e.appletTitle,imageUrl:e.appletPicUrl,path:`${e.appletUrl}`})}})),t},onGoOrderDetail(){return g(this,null,(function*(){var e,t,r;if(R.$lxLog.mc("b_youxuan_wxppktwk_mc"),null==(e=this.onLoadOptions)?void 0:e.subscribe)try{yield(0,O.subscribeAfterPay)("group"===(null==(t=this.onLoadOptions)?void 0:t.orderType)?["pickUp","groupFail","groupSuccess"]:["pickUp"])}catch(e){h.log.warn("跳转订单详情页：",e),R.page().toast(e.errMsg)}(null==(r=this.onLoadOptions)?void 0:r.orderId)&&R.$router.triggerBack("paySuccess")}))},showPaySuccessCouponPop(e){const t={pic:e.picURL,backgroundColor:e.backgroundColor,btnText:e.btnLabel,btnColor:e.btnColor,btnLink:e.btnLink,couponList:e.couponUserList,riskInfo:e.riskInfo};let r={};(null==e?void 0:e.riskInfo)&&(r=d(p({},r),{showRiskPopup:!!e.riskInfo,riskInfo:e.riskInfo}),clearInterval(this.paySuccessCouponTimer)),-1!==e.popupMills&&(r=d(p({},r),{paySuccessCouponPopShow:!0,paySuccesCoupon:t})),this.setData(r,(()=>{e.popupMills>0&&setTimeout((()=>{this.setData({paySuccessCouponPopShow:!1})}),e.popupMills)}))},onMvReport(e){var t;R.$lxLog.mv(e.detail.bid,null==(t=null==e?void 0:e.detail)?void 0:t.lxParams)},onCallGroupHeader(){var e,t,r;R.$lxLog.mc("b_youxuan_qk408njz_mc",{order_id:null==(e=this.onLoadOptions)?void 0:e.orderId});this.selectComponent("#contact-group-header").getGroupHeaderPhone({page:this,orderId:null==(t=this.onLoadOptions)?void 0:t.orderId,lxData:{privacyAlertMV:"b_youxuan_1pbexf9f_mv",privacyAlertOK:"b_youxuan_ks54c0z7_mc",privacyAlertCancel:"b_youxuan_8sfhzubs_mc"},lxParams:{order_id:null==(r=this.onLoadOptions)?void 0:r.orderId}})},indexChange(e){const{detail:{currentIndex:t}}=e;this.isPageShow&&this.setData({currentBannerIndex:t})},goOnShopping(){R.$lxLog.mc("b_youxuan_ec697orq_mc"),R.$router.goto("/pages/index/index")},closeRiskPop(){this.setData({showRiskPopup:!1})},closeBringBagPop(){const{elevenContractAlertMsg:e={}}=this.data,{isVipFirst:t=!1}=e;t&&R.$lxLog.mc("b_youxuan_dmlf047w_mc"),this.setData({elevenContractShow:!1})},parseBYZXIHEX(e){var t,r;const{data:o=[]}=e||{};let s={},i={};const a={};let n=[];const l=o.find((e=>e.boothCode===E.BOOTH_CODE.PROMOTION_SHOW)),u=(null==l?void 0:l.resourceInfos[0])||{};if(null==u||"{}"===JSON.stringify(u))return void this.setData({showPromotionResources:!1});const{contentInfos:c={},jumpUrl:y="",title:g="",businessType:m="",businessId:f=""}=u,{userActivityId:T=""}=c;if(l)if(m===D.BUSINESS_TYPE.ACTIVE_TYPE&&f===D.BUSINESS_CODE.VEGETABLE_CODE)R.$lxLog.mv("b_youxuan_sfrpn74q_mv",{activity_id:T,tactic_code:E.TACTIC_CODE.VEGETABLE_MONEY}),s=this.getVegetablesMoneyV2(u);else if(m===D.BUSINESS_TYPE.MONTH_CARD_TYPE){R.$lxLog.mv("b_youxuan_sfrpn74q_mv",{activity_id:T,tactic_code:E.TACTIC_CODE.MONTH_CARD});const e=(0,D.transformTempStringToArray)(g);i=e.length>0?d(p({},c),{jumpUrl:y,textArr:e,showType:1}):{}}else n=[{title:(null==u?void 0:u.title)||"",subTitle:(null==(t=null==u?void 0:u.contentInfos)?void 0:t.subTitle)||"",btnText:(null==(r=null==u?void 0:u.contentInfos)?void 0:r.btnText)||"",picUrl:(null==u?void 0:u.picUrl)||"",jumpUrl:(null==u?void 0:u.jumpUrl)||""}];return h.log.warn("parseBYZXIHEX info",JSON.stringify(s),JSON.stringify(i),JSON.stringify(a),JSON.stringify(n)),{vegetableMoneyMsg:s,monthCardMsg:i,marketingInfo:a,rightsSource:n}},newFormatMarketingMsg(e){var t;const r=null==(t=this.onLoadOptions)?void 0:t.orderId,{data:o=[]}=e;let s={};for(let e=0;e<o.length;e++){const t=o[e],i=(null==t?void 0:t.resourceInfos[0])||{},{contentInfos:a={},picUrl:n="",businessType:l="",businessId:u=""}=i;try{const{RESULT:e=""}=a;switch(t.boothCode){case E.BOOTH_CODE.VEGETABLE_MONEY_OR_MONTH_CARD:l===D.BUSINESS_TYPE.ACTIVE_TYPE?u===D.BUSINESS_CODE.GET_MONEY&&(Object.keys(i).length&&(i.showType=1),s=i):h.log.warn("买菜钱、月卡展位未获取到信息",t);break;case E.BOOTH_CODE.FREE_POP_UP:this.freeOrderData=this.formatFreeOrderMsg(n);break;case E.BOOTH_CODE.ACTIVE_POP_UP:this.activityPopData=this.formatActivePopUpMsg(i,a,r);break;case E.BOOTH_CODE.COUPON_POP_SHOW:{let t={};try{t=JSON.parse(e)}catch(e){h.log.error(`newFormatMarketingMsg ${e}`)}const{popModel:r={}}=t;r.type!==C.INfullPopup.NoPopup&&this.fullRewindWindow(r);break}}}catch(e){h.log.error("获取营销接口信息失败",e)}}return{marketingInfo:s}},formatMarketingMsg(e){var t;const r=null==(t=this.onLoadOptions)?void 0:t.orderId,{data:o=[]}=e;let s={},i={},a={};for(let e=0;e<o.length;e++){const t=o[e],n=(null==t?void 0:t.resourceInfos[0])||{},{contentInfos:l={},jumpUrl:u="",picUrl:c="",title:y="",businessType:g="",businessId:m=""}=n;try{const{userActivityId:e="",RESULT:o=""}=l;switch(t.boothCode){case E.BOOTH_CODE.VEGETABLE_MONEY_OR_MONTH_CARD:if(g===D.BUSINESS_TYPE.ACTIVE_TYPE)m===D.BUSINESS_CODE.VEGETABLE_CODE?(R.$lxLog.mv("b_youxuan_sfrpn74q_mv",{activity_id:e,tactic_code:E.TACTIC_CODE.VEGETABLE_MONEY}),s=this.getVegetablesMoneyV2(n)):m===D.BUSINESS_CODE.GET_MONEY&&(Object.keys(n).length&&(n.showType=1),a=n);else if(g===D.BUSINESS_TYPE.MONTH_CARD_TYPE){R.$lxLog.mv("b_youxuan_sfrpn74q_mv",{activity_id:e,tactic_code:E.TACTIC_CODE.MONTH_CARD});const t=(0,D.transformTempStringToArray)(y);i=t.length>0?d(p({},l),{jumpUrl:u,textArr:t,showType:1}):{}}else h.log.warn("买菜钱、月卡展位未获取到信息",t);break;case E.BOOTH_CODE.FREE_POP_UP:this.freeOrderData=this.formatFreeOrderMsg(c);break;case E.BOOTH_CODE.ACTIVE_POP_UP:this.activityPopData=this.formatActivePopUpMsg(n,l,r);break;case E.BOOTH_CODE.COUPON_POP_SHOW:{let e={};try{e=JSON.parse(o)}catch(e){h.log.error(`newFormatMarketingMsg ${e}`)}const{popModel:t={}}=e;t.type!==C.INfullPopup.NoPopup&&this.fullRewindWindow(t);break}}}catch(e){h.log.error("获取营销接口信息失败",e)}}return{vegetableMoneyMsg:s,monthCardMsg:i,marketingInfo:a}},formatFreeOrderMsg:e=>({freeOrderInfo:{picUrl:e},showFreeOrderPopup:!!e}),fullRewindWindow(e){const{money:t,picURL:r,btnText:o,btnLabel:s}=e||{};this.setData({fullRefundInfo:{money:t,picURL:r,btnText:o,btnLabel:s},showHongbaoPopup:!!e})},formatActivePopUpMsg(e,t,r){const o=d(p({},e),{contentInfos:d(p({},t),{type:+(null==t?void 0:t.type)||"",popType:+(null==t?void 0:t.popType)||""})});return{shareData:o,canShowPop:!!o.picUrl,shareInfo:{type:+(null==t?void 0:t.type)||"",picUrl:o.picUrl,shareDetail:{title:o.title,imageUrl:t.thumbnail,path:o.jumpUrl}},sharePopLxParams:{type:null==t?void 0:t.type,activity_id:t.activityId||"",order_id:r}}},getVegetablesMoneyV2(e){const{contentInfos:t={},jumpUrl:r=""}=e,{money:o="",textTpl:s="",text:i=""}=t,a=/%/g,n=Object.assign({},t,{jumpUrl:r});return n.textTpl=a.test(s)?s.replace(a,(0,D.formatTextTpl)(o)):i,n},gotoVegetableMoney(){const{jumpUrl:e,userActivityId:t}=this.data.vegetableMoneyMsg;R.$lxLog.mc("b_youxuan_sfrpn74q_mc",{activity_id:t,tactic_code:E.TACTIC_CODE.VEGETABLE_MONEY}),R.$router.goto(e)},gotoMonthCard(){const{jumpUrl:e,userActivityId:t}=this.data.monthCardMsg;R.$lxLog.mc("b_youxuan_sfrpn74q_mc",{activity_id:t,tactic_code:E.TACTIC_CODE.MONTH_CARD}),R.$router.goto(e)},getCustomerRights(e){var t;try{const r=null==(t=e.resourceList)?void 0:t.slice(0,3).map((e=>{var t,r,o,s,i,a,n,l;return{id:e.id,picUrl:null==(t=null==e?void 0:e.picProperty)?void 0:t.mainPic[0].url,title:null==(o=null==(r=null==e?void 0:e.textProperty)?void 0:r.title)?void 0:o.value,subTitle:null==(i=null==(s=null==e?void 0:e.textProperty)?void 0:s.subTitle)?void 0:i.value,btnText:null==(n=null==(a=null==e?void 0:e.textProperty)?void 0:a.buttonText)?void 0:n.value,jumpUrl:null==(l=null==e?void 0:e.jumpContent)?void 0:l.jumpUrl}}));return r.length&&R.$lxLog.mv("b_youxuan_t32qgx6v_mv"),{rightsSource:r}}catch(e){h.log.warn("<paySuccess getCustomerRights> 解析用户权益数据异常",e)}return{}},getCustomerFocus(e){var t,r;try{const o=e.resourceList&&e.resourceList[0],s={picUrl:null==(t=null==o?void 0:o.picProperty)?void 0:t.mainPic[0].url,jumpUrl:null==(r=null==o?void 0:o.jumpContent)?void 0:r.jumpUrl};return s.picUrl&&R.$lxLog.mv("b_youxuan_88qkdnlo_mv"),{focusSource:s}}catch(e){h.log.warn("<paySuccess getCustomerFocus> 解析用户关注信息异常",e)}return{}},mvHandler(e){const{bid:t="",lxParams:r={}}=e.detail;R.$lxLog.mv(t,r)},onRemindMvReport(){b.default.onSubscriptionShow()},getShareCardType(e){let t;switch(e){case"a":t=M.ShareCardType.TYPE_REMIND_ORDERS;break;case"b":t=M.ShareCardType.TYPE_VIEW_PRODUCT_INFO;break;case"c":t=M.ShareCardType.TYPE_REMIND_RECEIPT}return t},doAbTest(e){const t={};switch(e){case"a":case"c":t.paySuccessTitle={title:"分享至自提点微信群，提醒团长及时接单",buttonName:"提醒团长接单"},"c"===e&&(t.isShowPaySuccessPopup=!0);break;case"b":t.paySuccessTitle={title:"您的一次分享，可帮助267人挑选好货",buttonName:"分享给好友"}}return t},goHome(){R.$router.goto("/pages/index/index")}});