var e,t,r=Object.create,i=Object.defineProperty,a=Object.getOwnPropertyDescriptor,o=Object.getOwnPropertyNames,n=Object.getPrototypeOf,l=Object.prototype.hasOwnProperty,p=(e=require("../../sn.js"),((e,t,r)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let n of o(t))l.call(e,n)||"default"===n||i(e,n,{get:()=>t[n],enumerable:!(r=a(t,n))||r.enumerable});return e})((t=i(null!=e?r(n(e)):{},"default",e&&e.__esModule&&"default"in e?{get:()=>e.default,enumerable:!0}:{value:e,enumerable:!0}),i(t,"__esModule",{value:!0})),e)),s=getApp();Component({properties:{orderType:{type:String,value:"default"},from:{type:String,value:"default"},extCls:{type:String,value:"default"},isLast:{type:Boolean},noShowMore:{type:Boolean},skuItem:{type:Object,value:null,observer(e){this.renderData(e)}},weight:{type:String},extraBtn:Object,orderId:{type:String}},data:{picTag:"",deliveryTips:{}},ready(){var e;this.renderData(),(null==(e=this.data.extraBtn)?void 0:e.bid)&&s.$lxLog.mv(this.data.extraBtn.bid,this.data.extraBtn.lxParams)},methods:{renderData(){const{skuItem:e,orderType:t,from:r}=this.data;let i=null;const a="\n                font-family: PingFangSC-Medium;\n                font-weight: 500;\n                ";let o=`\n                ${a}\n                width: auto;\n                height: 32rpx;\n                line-height: 32rpx;\n                font-size: 24rpx;\n                color: #fff;\n                background-image: linear-gradient(-45deg, #FF0011 0%, #FF5E00 100%);\n                border-radius: 8rpx 0 8rpx 0;\n            `;e.isGift&&(i={type:"promotion",text:"赠品"}),2===e.itemTag||3===e.itemTag?i={type:"promotion",text:"换购"}:4===e.itemTag&&(i={type:"promotion",text:"免费菜"}),e.productTag&&(i={type:"promotion",text:e.productTag}),"免费菜"===e.productTag&&(o=`\n                    ${a}\n                    width: 90rpx;\n                    height: 36rpx;\n                    line-height: 36rpx;\n                    font-size: 26rpx;\n                    background-image: linear-gradient(131deg, #704837 0%, #643423 100%);\n                    border-radius: 8rpx 0 8rpx 0;\n                    color: #FBE2BF;\n                    border: unset;\n                    padding: 6rpx;\n                    top: -2;\n                `);const{pic:n="",tag:l="",tagStyle:s="",skuName:d="",spec:u="",promotionPrice:c="",isGift:m=!1,itemType:g="",sellPrice:y="",count:h="",scatter:f=!1,viewUnit:x="",viewCount:b="",processingDetail:T="",unit:P="",sellUnitViewName:v="",promotionViewPrice:S="",sellUnitViewPrice:w="",subTitle:F="",isVip:k=!1,refundStatus:O=0,refundStatusStr:D="",totalCutlinePrice:B=0,skuCutlinePrice:I,cashPay:j,itemTag:V,memberTag:C=0,activityTag:U="",itemSkuType:N,validPeriod:Z="",supplierName:M="",abnormalTip:$="",stackId:_="",abnormalType:E=0,skuId:G="",abnormalTipTitle:L=""}=e;let z,A,W,q,H;"submitOrder"===r&&"group"!==t?(z=this.priceFormat(e.feViewPrice),A=this.priceFormat(e.fePromotionViewPrice),W=e.feViewPriceUnit||"",q=e.feViewSpec||"",H=3===V?this.eraseZero(void 0!==A?A:z):A||z):(""!==S?A=(S/100).toFixed(2):""!==c&&(A=(c/100).toFixed(2)),z=w||y?((w||y)/100).toFixed(2):0,W="orderDetail"===r?"":"group"===t?x:v||(f?x:P),q=u,H=this.eraseZero(void 0!==A?A:z));const J=this.eraseZero(this.priceFormat(void 0!==e.totalPromotionPrice?e.totalPromotionPrice:e.totalSellPrice)),K=this.eraseZero(this.priceFormat(f?B:I)),Q=this.eraseZero(this.priceFormat(I)),R=void 0!==j?(0,p.formatMoney)(j).replace("￥",""):J,X=84+17*R.length,Y={type:E,title:L,content:$};this.setData({pic:n,picTag:i,extraStyle:o,tag:l,cashPay:R,cashPayWidth:X,tagStyle:s,skuName:d,isVip:k,memberTag:C,subTitle:F,refundStatus:O,refundStatusStr:D,spec:q,isGift:m,itemType:g,processingDetail:T,totalPromotionPrice:J,dashTotalPrice:K,dashPrice:Q,price:H,priceUnit:W,countUnit:"orderDetail"===r?"":f?x:"",count:"orderDetail"===r?h:b||h,activityTag:U,itemSkuType:N,validPeriod:Z,picWebpConf:"orderDetail"===r?{width:"180rpx",height:"180rpx"}:null,supplierName:M,stackId:_,skuId:G,abnormalType:E,abnormalTip:$,abnormalTipTitle:L,deliveryTips:Y})},priceFormat:e=>e?(e/100).toFixed(2):0,eraseZero:e=>""+ +e,catchExtraBtnTap(e){var t,r,i;const a=null==(r=getApp().page())?void 0:r.getOrderSkuItemById(null==(t=this.data.skuItem)?void 0:t.skuId);null==(i=null==a?void 0:a.extraBtn)||i.onTap(e)},mvHandler(e){const{bid:t="",lxParams:r={}}=e.detail;s.$lxLog.mv(t,r)}}});