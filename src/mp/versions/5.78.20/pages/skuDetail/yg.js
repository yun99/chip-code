var e=Object.create,t=Object.defineProperty,r=Object.getOwnPropertyDescriptor,n=Object.getOwnPropertyNames,o=Object.getPrototypeOf,i=Object.prototype.hasOwnProperty,u=u=>{return((e,o,u)=>{if(o&&"object"==typeof o||"function"==typeof o)for(let l of n(o))i.call(e,l)||"default"===l||t(e,l,{get:()=>o[l],enumerable:!(u=r(o,l))||u.enumerable});return e})((l=t(null!=u?e(o(u)):{},"default",u&&u.__esModule&&"default"in u?{get:()=>u.default,enumerable:!0}:{value:u,enumerable:!0}),t(l,"__esModule",{value:!0})),u);var l},l=u(require("../../az.js")),a=u(require("../../u5.js")),p=u(require("./pk.js")),s=u(require("../../kg.js")),c=getApp();Component(new class{constructor(){this.methods={goGroup(){return e=this,t=null,r=function*(){var e,t,r,n,o,i,u,d,g;if(yield(0,s.default)(c))return;if(!a.$login.isLogin())return void a.$login.login();const{groupBuyEntryData:y}=this.data,m=(yield(0,l.getCommonFinger)())||{weChatFingerprint:"",fingerprint:""};try{const n=yield(0,p.groupBuyDetailCheck)(a.$poi.getPoiIdStr()||a.$poi.getPoiId(),{skuId:y.skuId,groupBuyingActivityId:y.activityIdString,groupBuyingPrice:y.groupPrice.text,appletsFingerprint:(null==m?void 0:m.weChatFingerprint)||"",fingerprint:(null==m?void 0:m.fingerprint)||"",wxrisklevel:{openId:null==(e=a.$user)?void 0:e.getOpenId(),appId:"tt48f03e4dd7c81b7d01",mchid:"1399386702"}});n.success?null==(t=a.$router)||t.goto(n.iretailUrl):null==(r=(0,a.page)())||r.toast("拼团活动已结束")}catch(e){const t=(null==(o=null==(n=e.data)?void 0:n.error)?void 0:o.msg)||"拼团活动已结束";null==(i=(0,a.page)())||i.toast(t),null==(u=e.data)||u.code,a.$login.login()}a.$lxLog.mc("b_youxuan_h9iqibqu_mc",{sku_id:(null==(d=this.data.groupBuyEntryData)?void 0:d.skuId)||-999,product_id:(null==(g=this.data.groupBuyEntryData)?void 0:g.productId)||-999})},new Promise(((n,o)=>{var i=e=>{try{l(r.next(e))}catch(e){o(e)}},u=e=>{try{l(r.throw(e))}catch(e){o(e)}},l=e=>e.done?n(e.value):Promise.resolve(e.value).then(i,u);l((r=r.apply(e,t)).next())}));var e,t,r},onMvReport(e){const{__mvHandler:t}=getApp().page();"function"==typeof t&&t(e)}},this.properties={groupBuyEntryData:{type:Object,value:null},mvHandler:{type:Function,value:()=>{}}}}});