var e,t,a=Object.create,o=Object.defineProperty,l=Object.getOwnPropertyDescriptor,n=Object.getOwnPropertyNames,r=Object.getPrototypeOf,i=Object.prototype.hasOwnProperty,s=e=>{return((e,t,a)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let r of n(t))i.call(e,r)||"default"===r||o(e,r,{get:()=>t[r],enumerable:!(a=l(t,r))||a.enumerable});return e})((t=o(null!=e?a(r(e)):{},"default",e&&e.__esModule&&"default"in e?{get:()=>e.default,enumerable:!0}:{value:e,enumerable:!0}),o(t,"__esModule",{value:!0})),e);var t},u=s(require("../../jc.js")),p=s(require("../../p0.js")),d=s(require("./lu.js")),h=getApp(),{UPDATE_POIINFO_FINISH:c}=h.$event.CONTANTS;(0,u.defineComponent)({properties:{hiddenLayout:{type:Boolean,value:!1},extraParam:{type:Object,value:null},pageFrom:{type:String,value:""},bottomBrandOptions:{type:Object,value:{}},addCartBarOptions:{type:Object,value:{shareButtonObject:{type:String,value:""},sharePosition:{type:Number,value:-1},showShare:{type:Boolean,value:!1},isAutoShare:{type:Boolean,value:!1},isShareLandingPage:{type:Boolean,value:!1},hasTabBar:{type:Boolean,value:!1},queryParams:{type:Object,value:null},needHide:{type:Boolean,value:!1},adaptSafeArea:{type:Boolean,value:!0},cid:String}},redPacketBarOptions:{type:Object,value:{queryParams:{type:Object,value:null}}},isShowBottomEmpty:{type:Boolean,value:!1},showAddCartBar:{type:Boolean,value:!1,observer(e){this.recalculateAcHeight()}},mvHandler:{type:null,value:()=>{}},isCanNotOverflow:{type:Boolean,value:!1},showCustomTabBar:{type:Boolean,value:!1},isShowRedPacket:{type:Boolean,value:!1,observer(e){this.recalculateAcHeight()}},bottomHeight:{type:String,value:""},isShowMarketingTips:{type:Boolean,value:!1},bottomBrandMv:{type:Object,value:{lxParam:{type:Object,value:null},bid:String}},customStyle:String},data:{isIpx:h.getModule("systemInfo")&&h.getModule("systemInfo").getSystemInfo()&&h.getModule("systemInfo").getSystemInfo().isIpx||!1,addCartBarHeight:(null==(t=null==(e=h.getModule("systemInfo"))?void 0:e.getSystemInfo())?void 0:t.isIpx)?176:108,addRedPacketTipsHeight:0,bottomContainerHeight:null},options:{multipleSlots:!0},attached(){this.destroy=(0,d.observerPageScrollEvent)(this),this.onPoiChangeThis=this.onPoiChange.bind(this),h.$event.on(c,this.onPoiChangeThis)},detached(){this.destroy(),h.$event.off(c,this.onPoiChangeThis)},propTypes:null,methods:{onPoiChange(){const e=this.selectComponent("#bottom-brand");e&&e.getBrand()},openShare(e){this.triggerEvent("openShare",e)},showAddCartBar(e){const{isIpx:t,addCartBarHeight:a}=this.data,o=(e&&!1===e.detail?0:108)+(t?68:0);o!==a&&this.setData({addCartBarHeight:o}),this.triggerEvent("showAddCartBar",e.detail),this.recalculateAcHeight()},showRedPacketBar(e){const t=e.detail||0;this.setData({addRedPacketTipsHeight:t}),this.triggerEvent("showRedPacketBar",t),this.recalculateAcHeight()},recalculateAcHeight(){const e=this.createSelectorQuery();e.select("#aC").boundingClientRect(),e.exec(((e=[])=>{const{height:t}=e[0]||{};if("number"==typeof t){const e=(0,p.convertPxToRpx)(t);e!==this.data.bottomContainerHeight&&this.setData({bottomContainerHeight:e})}}))},onMvReport(e){h.$lxLog.mv(e.detail.bid,e.detail.lxParams)}},externalClasses:["change-bg"]});