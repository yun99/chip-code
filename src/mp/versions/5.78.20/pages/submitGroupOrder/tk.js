var e,t,o=Object.create,r=Object.defineProperty,s=Object.defineProperties,n=Object.getOwnPropertyDescriptor,i=Object.getOwnPropertyDescriptors,a=Object.getOwnPropertyNames,l=Object.getOwnPropertySymbols,c=Object.getPrototypeOf,m=Object.prototype.hasOwnProperty,p=Object.prototype.propertyIsEnumerable,h=(e,t,o)=>t in e?r(e,t,{enumerable:!0,configurable:!0,writable:!0,value:o}):e[t]=o,u=(e=require("../../jc.js"),((e,t,o)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let s of a(t))m.call(e,s)||"default"===s||r(e,s,{get:()=>t[s],enumerable:!(o=n(t,s))||o.enumerable});return e})((t=r(null!=e?o(c(e)):{},"default",e&&e.__esModule&&"default"in e?{get:()=>e.default,enumerable:!0}:{value:e,enumerable:!0}),r(t,"__esModule",{value:!0})),e)),f=getApp();(0,u.defineComponent)(new class{constructor(){this.methods={toggleSwitchInfo(){const{memberInfo:e}=this.properties;f.$lxLog.mc("b_youxuan_pycfi5hk_mc",{status:e.open?0:1,sku_id:e.memberUserSwitchInfo.memberCardSkuId}),this.triggerEvent("change",!e.open)},onPointShow(){f.$lxLog.mc("b_youxuan_n0bkftcm_mc",{message:this.data.pointMessage}),this.setData({isShowTips:!1})},pointClick(){const e=wx.createSelectorQuery().in(this);e.select("#point").boundingClientRect((e=>{this.onPointShow(),(null==e?void 0:e.top)&&wx.pageScrollTo({scrollTop:e.top-f.$systemInfo.systemInfo.screenHeight+88})})),e.exec()}},this.properties={memberInfo:{type:Object,observer(e){const{memberUserSwitchInfo:t,title:o=""}=e,r=o.replace("<red>","<font style='color: #ED0010;'>").replace("</red>","</font>");let s;if(t&&!this.haveShow){const{display:e=!1,floatText:o=""}=t;this.haveShow=!0,s=o.replace("<red>","<font style='color: #FFD100;'>").replace("</red>","</font>")}this.setData({pointMessage:s,formateTitle:r})}}},this.data={isThreeTime:!0,fontRate:f.$cart.getCartFontRate()||1,pointMessage:"",isShowTips:!1,formateTitle:""},this.haveShow=!1}attached(){const e=f.$store.getCacheValue("orderInfo");let{showMemberCardTime:t=0,memberCardTimeStamp:o}=e;const r=`${new Date}`.replace(/(\d{2}:*){3}\s*/g,"");var n;o&&o===r||(t=0),t<3&&(f.$lxLog.mv("b_youxuan_pycfi5hk_mv",{sku_id:this.properties.memberInfo.memberUserSwitchInfo.memberCardSkuId}),this.setData({isThreeTime:!1}),f.$store.setCache("orderInfo",(n=((e,t)=>{for(var o in t||(t={}))m.call(t,o)&&h(e,o,t[o]);if(l)for(var o of l(t))p.call(t,o)&&h(e,o,t[o]);return e})({},e),s(n,i({memberCardTimeStamp:r,showMemberCardTime:t+1})))))}ready(){setTimeout((()=>{const e=wx.createSelectorQuery().in(this);e.select("#point").boundingClientRect((e=>{var t,o;(null==e?void 0:e.top)>f.$systemInfo.systemInfo.screenHeight&&(null==(o=null==(t=this.properties.memberInfo)?void 0:t.memberUserSwitchInfo)?void 0:o.display)&&(this.setData({isShowTips:!0}),f.$lxLog.mv("b_youxuan_n0bkftcm_mv",{message:this.data.pointMessage}))})),e.exec()}),0)}});