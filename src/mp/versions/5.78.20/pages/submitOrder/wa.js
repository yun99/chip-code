var e=Object.create,t=Object.defineProperty,r=Object.getOwnPropertyDescriptor,a=Object.getOwnPropertyNames,o=Object.getPrototypeOf,n=Object.prototype.hasOwnProperty,i=i=>{return((e,o,i)=>{if(o&&"object"==typeof o||"function"==typeof o)for(let s of a(o))n.call(e,s)||"default"===s||t(e,s,{get:()=>o[s],enumerable:!(i=r(o,s))||i.enumerable});return e})((s=t(null!=i?e(o(i)):{},"default",i&&i.__esModule&&"default"in i?{get:()=>i.default,enumerable:!0}:{value:i,enumerable:!0}),t(s,"__esModule",{value:!0})),i);var s},s=i(require("../../jc.js")),u=i(require("../../ob.js")),l=getApp();(0,s.defineComponent)({properties:{skuItem:{type:Object,value:null,observer(e){e&&this.renderData()}},showAddBtn:Boolean},data:{extraStyle:"\n            font-family: PingFangSC-Medium;\n            font-weight: 500;\n            font-size: 26rpx;\n            color: #fff;\n            height: 36rpx;\n            background-image: linear-gradient(-135deg, #FF5E24 0%, #FF1929 100%);\n            border-radius: 6rpx 0 6rpx 0;\n            top: -2rpx;\n        ",picTag:"",fontRate:l.$cart.getCartFontRate()||1},methods:{renderData(){const{skuItem:e}=this.data;let t=null,{extraStyle:r}=this.data;e.isGift&&(t={type:"promotion",text:"赠品"}),2===e.itemTag||3===e.itemTag?t={type:"promotion",text:"换购"}:4===e.itemTag&&(t={type:"promotion",text:"免费菜"},r="\n                    width: 90rpx;\n                    height: 36rpx;\n                    background-image: linear-gradient(131deg, #704837 0%, #643423 100%);\n                    border-radius: 8rpx 0 8rpx 0;\n                    color: #FBE2BF;\n                    border: unset;\n                    padding: 6rpx;\n                    top: -4rpx;\n                    font-family: PingFangSC-Medium;\n                    font-size: 26rpx;\n                    line-height: 36rpx;\n                    font-weight: 500;\n                "),e.productTag&&(t={type:"promotion",text:e.productTag});const{pic:a="",tag:o="",tagStyle:n="",skuName:i="",count:s="",scatter:u=!1,viewCount:c="",totalCutlinePrice:p=0,skuCutlinePrice:m,itemTag:g,skuId:d,activityTag:x,supplierName:y="",memberLabel:f="",referencePrice:h=0,walkIconUrl:k="",walkText:b="",singleSkuPromotionUrl:T=""}=e;let P;k&&b&&l.$lxLog.mv("b_youxuan_6wms9330_mv");const v=this.priceFormat(e.feViewPrice),w=this.priceFormat(e.fePromotionViewPrice),O=this.eraseZero(this.priceFormat(u?p:m)),F=this.eraseZero(this.priceFormat(h));P=3===g||2===g?this.eraseZero(void 0!==w?w:v):4===g?0:w||v,this.setData({pic:a,picTag:t,tag:o,skuId:d,tagStyle:n,itemTag:g,skuName:i,dashTotalPrice:O,price:P,count:+c||+s,activityTag:x,supplierName:y,extraStyle:r,memberLabel:f,menberPrice:F,walkText:b,walkIconUrl:k,singleSkuPromotionUrl:T})},priceFormat:e=>e?(e/100).toFixed(2):0,eraseZero:e=>""+ +e,increaseSku(e){const{skuId:t,hasTag:r}=e.currentTarget.dataset;l.$lxLog.mc("b_youxuan_52kfxkra_mc",{sku_id:t}),r||this.operateCart(6,t)},decreaseSku(e){const{skuId:t}=e.currentTarget.dataset;l.$lxLog.mc("b_youxuan_3k0nvyqw_mc",{sku_id:t}),1!==this.data.count?this.operateCart(7,t):l.page().confirm({message:"您确认要删除商品吗？",isCatchTouchMove:!0,textCancel:"再想想",textOK:"删除",cancel:()=>this.triggerEvent("cancelDelete"),ok:()=>this.operateCart(7,t)})},operateCart(e,t){if(t)return this.triggerEvent("operateSkuCount",{cartOpType:e,cartOpProducts:[{skuId:t}]});u.log.error("<SubmitOrder OrderSkuItem>加减车失败：没有skuId")}}});