var e,t,a=Object.create,o=Object.defineProperty,r=Object.getOwnPropertyDescriptor,n=Object.getOwnPropertyNames,s=Object.getPrototypeOf,i=Object.prototype.hasOwnProperty,u=e=>{return((e,t,a)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let s of n(t))i.call(e,s)||"default"===s||o(e,s,{get:()=>t[s],enumerable:!(a=r(t,s))||a.enumerable});return e})((t=o(null!=e?a(s(e)):{},"default",e&&e.__esModule&&"default"in e?{get:()=>e.default,enumerable:!0}:{value:e,enumerable:!0}),o(t,"__esModule",{value:!0})),e);var t},c=u(require("./jc.js")),p=u(require("./ly.js")),{tabBarList:g}=require("./gj.js"),y=getApp(),l=[{pagePath:"igrocery://www.grocery.com/main?need_type=redirectTo",text:"首页",iconPath:"/youxuan/images/tabs/t-yx/home_icon.png",selectedIconPath:"/youxuan/images/tabs/t-yx/home_icon-press.png"},{pagePath:"igrocery://www.grocery.com/category_list/tab_bar_page?need_type=redirectTo",text:"分类",iconPath:"/youxuan/images/tabs/t-yx/category.png",selectedIconPath:"/youxuan/images/tabs/t-yx/category-press.png"},{pagePath:"igrocery://www.grocery.com/cookbook/all_list?need_type=redirectTo",text:"菜谱",iconPath:"/youxuan/images/tabs/t-yx/bowl.png",selectedIconPath:"/youxuan/images/tabs/t-yx/bowl-press.png"},{pagePath:"igrocery://www.grocery.com/cart?need_type=redirectTo",text:"购物车",iconPath:"/youxuan/images/tabs/t-yx/shop_icon.png",selectedIconPath:"/youxuan/images/tabs/t-yx/shop_icon-press.png"},{pagePath:"igrocery://www.grocery.com/account?need_type=redirectTo",text:"我的",iconPath:"/youxuan/images/tabs/t-yx/user_center_icon.png",selectedIconPath:"/youxuan/images/tabs/t-yx/user_center_icon-press.png"}];(0,c.defineComponent)({properties:{selectedIndex:{type:Number,value:0,observer(e){null!=e&&this.setData({selected:e})}},customStyle:{type:String,value:""}},data:{isIpx:(null==(t=null==(e=y.getModule("systemInfo"))?void 0:e.getSystemInfo())?void 0:t.isIpx)||!1,isIOS:y.$systemInfo.isIOS()||!1,ratio:y.$systemInfo.systemInfo.windowWidth/375,selected:0,color:"#585D66",selectedColor:"#121924",list:l,cartSkuNum:0},attached(){this.initCartSkuNum(),this.changeCartSkuNumBindThis=this.changeCartSkuNum.bind(this),y.$event.on(y.$event.CONTANTS.CARTTOTALNUM_CHANGE,this.changeCartSkuNumBindThis)},detached(){y.$event.off(y.$event.CONTANTS.CARTTOTALNUM_CHANGE,this.changeCartSkuNumBindThis)},methods:{switchTab(e){const t=e.currentTarget.dataset,a=+t.index;if(t.index===this.data.selectedIndex)return;y.$router.goto(t.path);const o=g[a];setTimeout((()=>{getApp().page(0)&&p.tabPageMap[getApp().page(0).__route__]===o&&getApp().page(0).onTabItemTap({index:a,pagePath:o,text:l[a].text})}),3e3)},initCartSkuNum(){this.setData({cartSkuNum:y.$cart.cartTotalNum})},changeCartSkuNum(e){this.setData({cartSkuNum:e.totalItemCounts})},changeCartSkuNumBindThis(){}}});