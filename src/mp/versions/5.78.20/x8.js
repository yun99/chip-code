var e=Object.create,t=Object.defineProperty,o=Object.defineProperties,r=Object.getOwnPropertyDescriptor,a=Object.getOwnPropertyDescriptors,i=Object.getOwnPropertyNames,n=Object.getOwnPropertySymbols,l=Object.getPrototypeOf,p=Object.prototype.hasOwnProperty,c=Object.prototype.propertyIsEnumerable,s=(e,o,r)=>o in e?t(e,o,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[o]=r,u=(e,t)=>{for(var o in t||(t={}))p.call(t,o)&&s(e,o,t[o]);if(n)for(var o of n(t))c.call(t,o)&&s(e,o,t[o]);return e},d=(e,t)=>o(e,a(t)),m=e=>t(e,"__esModule",{value:!0});((e,o)=>{for(var r in m(e),o)t(e,r,{get:o[r],enumerable:!0})})(exports,{default:()=>v});var f,g=(f=require("./ob.js"),((e,o,a)=>{if(o&&"object"==typeof o||"function"==typeof o)for(let n of i(o))p.call(e,n)||"default"===n||t(e,n,{get:()=>o[n],enumerable:!(a=r(o,n))||a.enumerable});return e})(m(t(null!=f?e(l(f)):{},"default",f&&f.__esModule&&"default"in f?{get:()=>f.default,enumerable:!0}:{value:f,enumerable:!0})),f)),v={formatDiscountInfoToPopupData(e,t){var o,r;return{list:null==(r=null==(o=e.discountDetails)?void 0:o.filter((e=>1===e.promotionFlag)))?void 0:r.map((e=>{var t;const[o,...r]=e.priceString.split(" ");return{name:e.name,symbol:o,value:r.join(""),valueRed:!0,details:null==(t=e.detailList)?void 0:t.map((e=>({name:e.name,price:e.priceString})))}})),summary:{name:`${t||""}合计`,symbol:"-¥",value:""+(e.promotionDiscount||0)/100,valueRed:!0},popupTitle:`${t}明细`}},formatDiscountInfo(e){var t;const o={totalDiscount:Math.abs(e.price),promotionDiscount:Math.abs(e.price),discountDetails:(null==(t=e.details)?void 0:t.map((e=>({name:e.name,priceString:e.priceString,promotionFlag:1}))))||[]};return this.formatDiscountInfoToPopupData(o,e.name)},getDefaultPreviewParams(e,t){const o=this.parseOptions(t),r=d(u({},o.previewData),{allowZeroPay:!0,useRedPackage:!0,selfLiftingMobile:"",poiId:e.$poiId,poiIdStr:e.$poiIdStr,cityId:e.$poi.poiInfo.cityId,opSource:o.cartOpSource,tempCartId:o.tempCartId,pickerId:o.pickerId||e.$store.getCacheValue("pickerId"),couponIds:[-1],actionSelect:0,stockPois:[e.$poiId],stockPoisStr:e.$poiIdStr?[e.$poiIdStr]:[],fromSource:0,isUseCard:!0,shippingType:1,useCouponPackage:0,scene:o.scene});return e.$location&&(r.longitude=e.$location.longitude,r.latitude=e.$location.latitude),r},parseOptions(e){const t=d(u({},e),{failGoBackUrl:e.failGoBackUrl?decodeURIComponent(e.failGoBackUrl):void 0,scene:e.scene?Number(e.scene):void 0,previewData:void 0,fromPage:e.fromPage||"-999"});if(e.previewData)try{t.previewData=JSON.parse(decodeURIComponent(e.previewData))}catch(e){g.log.info(`<submitOrder 启动> 解析 previewData 出错, 错误为${JSON.stringify(e)}`)}return t}};