var e=Object.create,t=Object.defineProperty,n=Object.getOwnPropertyDescriptor,r=Object.getOwnPropertyNames,o=Object.getPrototypeOf,a=Object.prototype.hasOwnProperty,c=e=>t(e,"__esModule",{value:!0});((e,n)=>{for(var r in c(e),n)t(e,r,{get:n[r],enumerable:!0})})(exports,{getEnv:()=>g,getPageUrl:()=>i});var s,u=(s=require("./j0.js"),((e,o,c)=>{if(o&&"object"==typeof o||"function"==typeof o)for(let s of r(o))a.call(e,s)||"default"===s||t(e,s,{get:()=>o[s],enumerable:!(c=n(o,s))||c.enumerable});return e})(c(t(null!=s?e(o(s)):{},"default",s&&s.__esModule&&"default"in s?{get:()=>s.default,enumerable:!0}:{value:s,enumerable:!0})),s)),l={};function i(){try{let e=getCurrentPages();if(e&&e.length){let t=e[e.length-1];return t&&(t.route||t.__route__)||"Unknown"}return"app"}catch(e){return"app"}}function p(){try{return u.context.onNetworkStatusChange&&u.context.onNetworkStatusChange((function(e){e&&e.networkType&&(l.network=e.networkType)})),new Promise(((e,t)=>{u.context.getNetworkType({success(t){e(t.networkType)},fail(){e("Unknown")}}),setTimeout((()=>{e("Unknown")}),2e3)}))}catch(e){}}function w(){try{let e={os:"",wxVersion:"Unknown",wxLibVersion:"Unknown"};return new Promise(((t,n)=>{u.context.getSystemInfo({success(n){n&&(e.wxVersion=n.version||"Unknown",e.wxLibVersion=n.SDKVersion||"Unknown"),t(e)},fail(){t(e)}})}))}catch(e){}}function g(){try{let e=i();return new Promise(((t,n)=>{Object.keys(l).length?t(Object.assign({},l,{pageUrl:e})):Promise.all([p(),w()]).then((([n,r])=>{n&&r?(l=Object.assign({},r,{network:n,container:u.Container,unionId:""}),t(Object.assign({},l,{pageUrl:e}))):t({pageUrl:e})})).catch((()=>{t({pageUrl:e})}))}))}catch(e){}}