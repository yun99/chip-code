var e=Object.create,t=Object.defineProperty,r=Object.getOwnPropertyDescriptor,n=Object.getOwnPropertyNames,o=Object.getPrototypeOf,l=Object.prototype.hasOwnProperty,a=e=>t(e,"__esModule",{value:!0}),s=s=>((e,o,a)=>{if(o&&"object"==typeof o||"function"==typeof o)for(let s of n(o))l.call(e,s)||"default"===s||t(e,s,{get:()=>o[s],enumerable:!(a=r(o,s))||a.enumerable});return e})(a(t(null!=s?e(o(s)):{},"default",s&&s.__esModule&&"default"in s?{get:()=>s.default,enumerable:!0}:{value:s,enumerable:!0})),s);((e,r)=>{for(var n in a(e),r)t(e,n,{get:r[n],enumerable:!0})})(exports,{default:()=>d});var i=s(require("./3c.js")),u=s(require("./ms.js")),c=s(require("./ob.js")),p=s(require("./vw.js")),d=class{constructor(){this.addInterceptor=e=>(e&&(this.mInterceptor||(this.mInterceptor=new i.default(this)),this.mInterceptor.addInterceptor(e)),this),this.handle=e=>{return t=this,r=null,n=function*(){try{this.preHandle(e)}catch(e){c.log.warn(p.MOUDULE_NAME,"preHandle error",e)}let t=!1;if(this.shouldHandle(e))try{let r;return t=!0,this.needInterceptor(e)&&this.mInterceptor?(yield this.mInterceptor.intercept(e),r=yield this.handleInternal(e)):r=yield this.handleInternal(e),{isHandled:t,res:r}}catch(e){throw c.log.warn(p.MOUDULE_NAME,"intercept error",e),e}return{isHandled:t}},new Promise(((e,o)=>{var l=e=>{try{s(n.next(e))}catch(e){o(e)}},a=e=>{try{s(n.throw(e))}catch(e){o(e)}},s=t=>t.done?e(t.value):Promise.resolve(t.value).then(l,a);s((n=n.apply(t,r)).next())}));var t,r,n},this.preHandle=e=>{if(!e)throw new Error(`${u.RESULT_CODE.REQUEST_ERROR}：uriRequest不存在, ${this.getReportInfo()}`);if(!e.getUri().getUrl()){const{stack:e}=new Error("");throw new Error(`${u.RESULT_CODE.REQUEST_ERROR}：url为空, ${this.getReportInfo()}, ${e}`)}},this.getReportInfo=()=>{var e;const t=getApp(),r=(null==(e=null==t?void 0:t.$cat)?void 0:e.getReportInfo())||{};return JSON.stringify(r)||""},this.name="UriHandler",this.mInterceptor=new i.default(this)}};