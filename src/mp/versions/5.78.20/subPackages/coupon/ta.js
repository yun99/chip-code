var e=Object.defineProperty,t=Object.defineProperties,a=Object.getOwnPropertyDescriptors,r=Object.getOwnPropertySymbols,o=Object.prototype.hasOwnProperty,i=Object.prototype.propertyIsEnumerable,n=(t,a,r)=>a in t?e(t,a,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[a]=r,l=getApp();Component({properties:{isShowSpecPrice:{type:Boolean,value:!1},isHorizontal:{type:Boolean,value:!1},size:{type:String,value:"large"},showMoreMinNum:{type:Number,value:0},maxNumSkuCanShow:{type:Number,value:0},initialValue:{type:Array,value:[],observer(e){this.filterData(e)}},showCartIcon:{type:Boolean,value:!0},originSkuId:{type:Number},moduleId:{type:String,value:""},currentContainerClass:{type:String,value:"container"},keyword:{type:String,value:null},showBottomBrand:{type:Boolean,value:!1},isAutoAnimationDrop:{type:Boolean,value:!0},isShowMore:{type:Boolean,value:!1},maicaiLxData:{type:Object},lastSkuItemStyle:{type:String,value:""},skuItemStyle:{type:String,value:""},skuSchema:{type:Object,value:{}},editor:{type:Object,value:{}},mvProps:{type:Object,value:{bid:"",traceId:"",mvHandler:()=>{}}},needAnimation:{type:Boolean,value:!0},newCardSchema:{type:Object,value:{}},skuProxyData:{type:Object,value:{}},skuType:String},externalClasses:["external-classes"],data:{addCartArray:[],skuList:[],type:"",ENUM:{seeMoreEn:"See More",seeMoreCh:"查看全部",seeMoreCh2:"查看更多",seeMoreCh3:"松开查看"}},attached(){this.triggerCartChange=this.triggerCartChange.bind(this),l.$event.on(l.$event.CONTANTS.CARTNUM_CHANGE,this.triggerCartChange)},ready(){this.setData({type:this.data.showCartIcon?"":"index"})},detached(){l.$event.off(l.$event.CONTANTS.CARTNUM_CHANGE,this.triggerCartChange)},methods:{filterData(e){const l=e.filter(((e,l)=>{const s=(u=((e,t)=>{for(var a in t||(t={}))o.call(t,a)&&n(e,a,t[a]);if(r)for(var a of r(t))i.call(t,a)&&n(e,a,t[a]);return e})({},e),p={unique:`${e.skuId}-${l}`},t(u,a(p)));var u,p;return this.data.isHorizontal&&this.data.maxNumSkuCanShow?l<this.data.maxNumSkuCanShow?s:void 0:s}));this.setData({skuList:l})},gotoMore(){this.triggerEvent("more",{})},deleteCartArray(e){this.setData({addCartArray:[...this.data.addCartArray.filter((t=>t.key!==e.detail.key))]})},triggerCartChange(){this.triggerEvent("onCartChange")},onAddToCartCompletely(){this.triggerEvent("onAddToCartCompletely")}}});