var e=Object.create,t=Object.defineProperty,a=Object.getOwnPropertyDescriptor,r=Object.getOwnPropertyNames,s=Object.getPrototypeOf,o=Object.prototype.hasOwnProperty,u=u=>{return((e,s,u)=>{if(s&&"object"==typeof s||"function"==typeof s)for(let n of r(s))o.call(e,n)||"default"===n||t(e,n,{get:()=>s[n],enumerable:!(u=a(s,n))||u.enumerable});return e})((n=t(null!=u?e(s(u)):{},"default",u&&u.__esModule&&"default"in u?{get:()=>u.default,enumerable:!0}:{value:u,enumerable:!0}),t(n,"__esModule",{value:!0})),u);var n},n=u(require("../../../../ob.js")),l=u(require("../../ps.js")),c=require("../../../../er.js"),m=getApp(),{$event:i}=m,{UPDATE_USER_NAME_SUCCESS:d}=i.CONTANTS;c({data:{disabled:!0,userName:""},onLoad(e){const{userName:t=""}=e,a=!t;this.setData({userName:decodeURIComponent(t),disabled:a})},onShow(){m.$lxLog.pv("c_youxuan_omm8rrmd")},clearUserName(){this.setData({userName:"",disabled:!0})},handleInput(e){const{value:t}=e.detail;let a;a=!t,this.setData({userName:t,disabled:a})},handleSubmit(){return e=this,t=null,a=function*(){m.$lxLog.mc("b_youxuan_zfe2m71o_mc");const{disabled:e,userName:t}=this.data;if(e)return-1;const a={username:t};try{const e=yield(0,l.updateUserInfo)(a),{username:t=""}=e;(0,l.updateMTUserInfo)({username:t}),i.emit(d,t),m.$router.goto(-1)}catch(e){const{tip:t}=e;t&&m.page().toast(t),n.log.warn("更新用户名失败",JSON.stringify(e))}},new Promise(((r,s)=>{var o=e=>{try{n(a.next(e))}catch(e){s(e)}},u=e=>{try{n(a.throw(e))}catch(e){s(e)}},n=e=>e.done?r(e.value):Promise.resolve(e.value).then(o,u);n((a=a.apply(e,t)).next())}));var e,t,a}});