var e,t,o=Object.create,r=Object.defineProperty,n=Object.defineProperties,l=Object.getOwnPropertyDescriptor,c=Object.getOwnPropertyDescriptors,u=Object.getOwnPropertyNames,s=Object.getOwnPropertySymbols,a=Object.getPrototypeOf,i=Object.prototype.hasOwnProperty,p=Object.prototype.propertyIsEnumerable,f=(e,t,o)=>t in e?r(e,t,{enumerable:!0,configurable:!0,writable:!0,value:o}):e[t]=o,m=(e,t)=>{for(var o in t||(t={}))i.call(t,o)&&f(e,o,t[o]);if(s)for(var o of s(t))p.call(t,o)&&f(e,o,t[o]);return e},b=(e=require("../../kc.js"),((e,t,o)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let n of u(t))i.call(e,n)||"default"===n||r(e,n,{get:()=>t[n],enumerable:!(o=l(t,n))||o.enumerable});return e})((t=r(null!=e?o(a(e)):{},"default",e&&e.__esModule&&"default"in e?{get:()=>e.default,enumerable:!0}:{value:e,enumerable:!0}),r(t,"__esModule",{value:!0})),e)),y=require("./j3.js");module.exports=function(e,t){const o=m(m({buttons:[]},y),e);let r=t;if(!r){const e=getCurrentPages();r=e[e.length-1]}if(!(0,b.isFunction)(r.selectComponent))return;const l=r.selectComponent(o.selector);if(!l)return Promise.reject({type:"component error"});const{buttons:u=[]}=o;let s=!1;if(0===u.length){if(o.showConfirmButton&&u.push({type:"confirm",text:o.confirmButtonText,color:o.confirmButtonColor}),o.showCancelButton){const e={type:"cancel",text:o.cancelButtonText,color:o.cancelButtonColor};o.buttonsShowVertical?u.push(e):u.unshift(e)}}else s=!0;return new Promise(((e,t)=>{var r,a;l.setData((r=m({},o),a={buttons:u,showCustomBtns:s,key:`${(new Date).getTime()}`,show:!0,promiseFunc:{resolve:e,reject:t}},n(r,c(a))))}))};