var e,t,i=Object.create,o=Object.defineProperty,a=Object.defineProperties,r=Object.getOwnPropertyDescriptor,p=Object.getOwnPropertyDescriptors,l=Object.getOwnPropertyNames,s=Object.getOwnPropertySymbols,n=Object.getPrototypeOf,c=Object.prototype.hasOwnProperty,d=Object.prototype.propertyIsEnumerable,u=(e,t,i)=>t in e?o(e,t,{enumerable:!0,configurable:!0,writable:!0,value:i}):e[t]=i,_=(e=require("./j4.js"),((e,t,i)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let a of l(t))c.call(e,a)||"default"===a||o(e,a,{get:()=>t[a],enumerable:!(i=r(t,a))||i.enumerable});return e})((t=o(null!=e?i(n(e)):{},"default",e&&e.__esModule&&"default"in e?{get:()=>e.default,enumerable:!0}:{value:e,enumerable:!0}),o(t,"__esModule",{value:!0})),e)),m=getApp(),y={"history-poi":"b_youxuan_ngandyyh_mc","recommend-poi":"b_youxuan_j5c16a3k_mc","self-lift-point-map":"b_youxuan_zp6mkife_mc"};Component({options:{multipleSlots:!0},properties:{type:{type:String,value:""},poiListName:{type:String,value:""},position:{type:Object,value:null},poiList:{type:Array,value:[],observer(e){this.setData({_poiList:this.poiList2_poiList(e)})}},mvHandler:{type:Function},state:{type:Number,value:_.STATE.SELECT_ABLE},checkedId:{type:Number,value:NaN,observer(e){if(!e)return;const{poiList:t}=this.data;this.setData({_poiList:this.poiList2_poiList(t,e,_.STATE.SELECT_MULTI_CHECKED)})}},scrollY:{type:Boolean,value:!0,observer(e){}},scrollHeight:{type:String,value:"100%"},lowerThreshold:{type:Number,value:50}},data:{mvBidData:{"history-poi":"b_youxuan_ngandyyh_mv","recommend-poi":"b_youxuan_j5c16a3k_mv","self-lift-point-map":"b_youxuan_zp6mkife_mv"},_poiList:[]},attached(){const e=wx.createSelectorQuery().in(this);e.select(".font-title").boundingClientRect(),e.exec((e=>{const t=e&&e[0];t&&this.triggerEvent("attachedRec",t)}))},methods:{onMvReport(e){const{poi:t,index:i}=e.currentTarget.dataset;"recommend-poi"===this.data.type&&m.$lxLog.mv("b_youxuan_dyeeejcc_mv",{index_id:i,click_poiid:t.poiId,poiIdStr_click_poiid:t.poiIdStr||"",label_name:this.getLabelName(t),page_from:"otherSelfPickSelect"})},poiCardTapped(e){const t=e.detail,i=parseInt(e.currentTarget.dataset.index,10)||-1,o=this.getLabelName(t);let a={};"recommend-poi"===this.data.type?(a={click_poiid:t.poiId||"",poiIdStr_click_poiid:t.poiIdStr||"",label_name:o},t.label_name=o,t._index=i):"self-lift-point-map"===this.data.type&&(a={click_poiid:t.poiId||"",poiIdStr_click_poiid:t.poiIdStr||"",index_id:i}),y[this.data.type]&&m.$lxLog.mc(y[this.data.type],a),this.data.state===_.STATE.SELECT_MULTI&&this.setData({_poiList:this.poiList2_poiList(this.data._poiList,t.poiId,_.STATE.SELECT_MULTI_CHECKED)}),this.triggerEvent("poiCardTap",t)},getLabelName(e){const{poiLabels:t=[]}=e;return t&&t.length>0?t.map((e=>e.type)).join(","):"no_label"},poiList2_poiList(e=this.data._poiList,t,i){return e.map((e=>{return o=((e,t)=>{for(var i in t||(t={}))c.call(t,i)&&u(e,i,t[i]);if(s)for(var i of s(t))d.call(t,i)&&u(e,i,t[i]);return e})({},e),r={state:t===e.poiId&&i?i:this.data.state},a(o,p(r));var o,r}))},handleScrollToupper(e){this.triggerEvent("scrolltoupper",e)},scrollEnd(e){this.triggerEvent("scrolltolower",e)},handleScroll(e){this.triggerEvent("scroll",e)}}});