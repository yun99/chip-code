var e=Object.create,t=Object.defineProperty,o=Object.getOwnPropertyDescriptor,a=Object.getOwnPropertyNames,r=Object.getPrototypeOf,n=Object.prototype.hasOwnProperty,s=s=>{return((e,r,s)=>{if(r&&"object"==typeof r||"function"==typeof r)for(let c of a(r))n.call(e,c)||"default"===c||t(e,c,{get:()=>r[c],enumerable:!(s=o(r,c))||s.enumerable});return e})((c=t(null!=s?e(r(s)):{},"default",s&&s.__esModule&&"default"in s?{get:()=>s.default,enumerable:!0}:{value:s,enumerable:!0}),t(c,"__esModule",{value:!0})),s);var c},c=s(require("../../jc.js")),l=s(require("../../u5.js")),i=getApp();(0,c.defineComponent)({properties:{poiItem:{type:Object,value:{}},attachedRes:{type:Object,value:{top:0,height:0},observer(e){if(!e)return;const{top:t=0,height:o=0}=e,a=this.calcHeight(t+o),r=this.calcHeight(t+o)-254-22;this.setData({cardTop:a,textTop:r},(()=>{this.calcBtnTop()}))}}},data:{currentStep:1,overMaxPageNum:!1,cardTop:null,textTop:null,btnTop:null,hasShown:!0},attached(){const e=!(1!=+l.$store.getCacheValue("MAP_NEW_GUIDE"));this.setData({hasShown:e})},detached(){},methods:{goToNextStep(){const{currentStep:e}=this.data,t=e+1;this.setData({currentStep:t}),t>2&&(this.setData({overMaxPageNum:!0}),l.$store.setCache("MAP_NEW_GUIDE",1))},calcHeight(e){const t=750/i.$systemInfo.systemInfo.windowWidth;return Math.floor(e*t)},calcBtnTop(){const{poiItem:e={}}=this.properties;if(e&&e.poiName){const e=wx.createSelectorQuery().in(this);e.select(".container").boundingClientRect(),e.exec((e=>{const t=e&&e[0];if(!t)return;const{top:o=0,height:a=0}=t||{},r=this.calcHeight(o+a)+80;this.setData({btnTop:r})}))}}}});