var t=Object.defineProperty;((i,s)=>{for(var e in(i=>{t(i,"__esModule",{value:!0})})(i),s)t(i,e,{get:s[e],enumerable:!0})})(exports,{default:()=>s});var i=getApp(),s=class{constructor(t={},s={}){this.defaultCity=t,this.localCity=s,this._store=i.$store,this._storeKey="historyCityList",this._historyCityList=i.$store.getCacheValue("historyCityList")||[],this._historyCityList||i.$store.setCache("historyCityList",[],{isOnlyCache:!1})}getHistoryCityList(){return Array.from(this._store.getCacheValue(this._storeKey)||[])}pushHistoryCityList(t){this.setCache(this._getHistoryCityList(t))}setCache(t=this._historyCityList){this._store.setCache("historyCityList",t.slice(1),{isOnlyCache:!1})}_getHistoryCityList(t){return(this._historyCityList.some((i=>i.cityId===t.cityId))||this.defaultCity.cityId===t.cityId||this.localCity.cityId===t.cityId)&&this.removeItemByCity(t),this.localCity.cityId!==t.cityId&&this._historyCityList.unshift(t),this._historyCityList.length>5&&this._historyCityList.splice(5),this._historyCityList}setCurrentCity(t){this.defaultCity=t}setLocalCity(t){this.localCity=t,this.removeItemByCity(t)}removeItemByCity(t){const i=this._historyCityList.findIndex((i=>i.cityId===t.cityId));-1!==i&&(this._historyCityList.splice(i,1),this.setCache())}};