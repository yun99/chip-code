var e=Object.create,t=Object.defineProperty,r=Object.defineProperties,o=Object.getOwnPropertyDescriptor,n=Object.getOwnPropertyDescriptors,s=Object.getOwnPropertyNames,a=Object.getOwnPropertySymbols,l=Object.getPrototypeOf,c=Object.prototype.hasOwnProperty,i=Object.prototype.propertyIsEnumerable,u=(e,r,o)=>r in e?t(e,r,{enumerable:!0,configurable:!0,writable:!0,value:o}):e[r]=o,f=e=>t(e,"__esModule",{value:!0}),p=r=>((e,r,n)=>{if(r&&"object"==typeof r||"function"==typeof r)for(let a of s(r))c.call(e,a)||"default"===a||t(e,a,{get:()=>r[a],enumerable:!(n=o(r,a))||n.enumerable});return e})(f(t(null!=r?e(l(r)):{},"default",r&&r.__esModule&&"default"in r?{get:()=>r.default,enumerable:!0}:{value:r,enumerable:!0})),r);((e,r)=>{for(var o in f(e),r)t(e,o,{get:r[o],enumerable:!0})})(exports,{getHistoryAddress:()=>m,getHistoryPoi:()=>D,getSearchChoiceStore:()=>S,getSearchPoiAddress:()=>P,setHistoryAddress:()=>b,setHistoryPoi:()=>A,setSerchPoiAdress:()=>v});var y=p(require("./sf.js")),g=p(require("../../ob.js")),h=getApp(),{$store:d}=h;function O(e,t){var o;const s={[y.Type.ADDRESS]:{},[y.Type.POI]:{}},l=S(),f=l[y.Type.ADDRESS]||[],p=l[y.Type.POI]||[];(f.length||p.length)&&(f.forEach(((e,t)=>{s[y.Type.ADDRESS][e.name]=t})),p.forEach(((e,t)=>{s[y.Type.POI][e.name]=t})));const g=s[e];let h;if(!g)return null;if(void 0!==g[t.name]){const r=g[t.name];if(0!==r){const t=l[e]||[];h=[].concat(t.slice(0,r),t.slice(r+1)),h.unshift(t[r])}}else h=(null==(o=l[e])?void 0:o.slice(0))||[],h.length>=3&&h.pop(),h.unshift(t);var O;h&&d.setCache("searchChoice",(O=((e,t)=>{for(var r in t||(t={}))c.call(t,r)&&u(e,r,t[r]);if(a)for(var r of a(t))i.call(t,r)&&u(e,r,t[r]);return e})({},l),r(O,n({[e]:h}))))}function S(){return d.getCacheValue("searchChoice")}function b(e,t){const r={name:e,value:t};O(y.Type.ADDRESS,r)}function m(){var e;const t=S();return t&&(null==(e=t[y.Type.ADDRESS])?void 0:e.length)?t[y.Type.ADDRESS][0].value:null}function P(){const e=h.$store.getAndRemove(y.Type.SELECT_POI);let t=null;if(e)try{t=JSON.parse(e)}catch(e){g.log.info("getSearchPoiAddress parse fail",e)}else g.log.info("getSearchPoiAddress fail",e);return t}function v(e){if("object"==typeof e&&Object.keys(e).length){const t=JSON.stringify(e),r=h.$store.setCache(y.Type.SELECT_POI,t,{isOnlyCache:!0});g.log.info("setSerchPoiAdress res",r)}else g.log.info("setSerchPoiAdress fail",e)}function A(e,t){if(!e)return;const r={name:e,value:t};O(y.Type.POI,r)}function D(){}