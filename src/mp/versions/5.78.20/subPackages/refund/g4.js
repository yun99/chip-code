var e=Object.create,t=Object.defineProperty,a=Object.getOwnPropertyDescriptor,s=Object.getOwnPropertyNames,r=Object.getPrototypeOf,i=Object.prototype.hasOwnProperty,c=e=>t(e,"__esModule",{value:!0});((e,a)=>{for(var s in c(e),a)t(e,s,{get:a[s],enumerable:!0})})(exports,{TodayStorage:()=>u,default:()=>u,getSingleInstance:()=>h});var o,l=(o=require("./zh.js"),((e,r,c)=>{if(r&&"object"==typeof r||"function"==typeof r)for(let o of s(r))i.call(e,o)||"default"===o||t(e,o,{get:()=>r[o],enumerable:!(c=a(r,o))||c.enumerable});return e})(c(t(null!=o?e(r(o)):{},"default",o&&o.__esModule&&"default"in o?{get:()=>o.default,enumerable:!0}:{value:o,enumerable:!0})),o)),n=getApp(),u=class{constructor(){this.switchChecked=!0,this._timeStamp="",this._store=n.$store,this._cacheKey="todayStorage"}init(){this.switchChecked=!0,this._set(!0)}get(){this.checkValid()||this.init();const{switchChecked:e,timeStamp:t}=this._get();return this.switchChecked=e,this._timeStamp=t,Boolean(+e)}set(e){const t=e?1:0;this._set(t)}checkValid(e){let t=e;t||(t=this._get().timeStamp);return(0,l.default)().valueOf()-t-((0,l.default)().hour(23).minute(59).second(59).valueOf()-t)<=0}_set(e){this._store.setCache(this._cacheKey,{switchChecked:e,timeStamp:(0,l.default)().valueOf()},{isOnlyCache:!1})}_get(){return this._store.getCacheValue(this._cacheKey)}},h=(()=>{let e=null;return()=>e||(e=new u,e)})();