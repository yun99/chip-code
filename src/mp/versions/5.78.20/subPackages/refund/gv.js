var e=Object.create,t=Object.defineProperty,r=Object.getOwnPropertyDescriptor,o=Object.getOwnPropertyNames,n=Object.getPrototypeOf,u=Object.prototype.hasOwnProperty,a=e=>t(e,"__esModule",{value:!0}),s=s=>((e,n,a)=>{if(n&&"object"==typeof n||"function"==typeof n)for(let s of o(n))u.call(e,s)||"default"===s||t(e,s,{get:()=>n[s],enumerable:!(a=r(n,s))||a.enumerable});return e})(a(t(null!=s?e(n(s)):{},"default",s&&s.__esModule&&"default"in s?{get:()=>s.default,enumerable:!0}:{value:s,enumerable:!0})),s),l=(e,t,r)=>new Promise(((o,n)=>{var u=e=>{try{s(r.next(e))}catch(e){n(e)}},a=e=>{try{s(r.throw(e))}catch(e){n(e)}},s=e=>e.done?o(e.value):Promise.resolve(e.value).then(u,a);s((r=r.apply(e,t)).next())}));((e,r)=>{for(var o in a(e),r)t(e,o,{get:r[o],enumerable:!0})})(exports,{default:()=>f,getIMOrderInfo:()=>g});var i=s(require("../../ob.js")),p=s(require("../../u8.js")),c=s(require("../../u1.js")),d=s(require("../../uc.js"));function g(e){return l(this,null,(function*(){return(0,c.get)({setting:{domain:d.h5Uri},headers:{"content-type":"application/json"},url:"/content/api/c/chat/user/chatInfo",params:e})}))}var m="[IM--Chatbot]",y=getApp(),f=new class{constructor(){this.getGroupHeaderDxId=(e,t)=>l(this,null,(function*(){var r;try{const o=yield g({poiId:e||"",poiIdStr_order:t||""});return null==(r=null==o?void 0:o.groupHeadInfo)?void 0:r.groupHeaderDxId}catch(e){return i.log.info(m,"getGroupHeaderDxId",e),null}})),this.isSupprotChat=this.checkIsSupportChat()}jumpToChatPage(e,t,r,o){i.log.info(m," jumpToChatPage",e);let n=`?uid=${t}&orderId=${e}&poiId=${r}&sceneType=order`;o&&(n+=`&poiIdStr=${o}`),e?y.$router.goto(`subPackages/im/pages/session/index${n}`):i.log.info(m,"jumpToChatPage  orderId null")}checkIsSupportChat(){var e;let t=!1;if((0,p.isWXMT)())return t;const r=null==(e=y.getModule("systemInfo"))?void 0:e.getSystemInfo(),[o]=null==r?void 0:r.system.split(" ");return t=["ios","android"].includes(o.toLowerCase()),t||i.log.info(m,"is not support",t),t}};