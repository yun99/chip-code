var e;e=function(){var e=function(e){return"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(e)},t=function(e,t){return"string"==typeof e?e.charCodeAt(t):e instanceof Uint8Array?e[t]:0},n="undefined"!=typeof top&&top.btoa||function(n){for(var o=[],s=0,c=n.length,i=0,r=0;r<c;++r)3===(s+=1)&&(s=0),i=t(n,r),0===s?o.push(e(63&(t(n,r-1)<<2|i>>6)),e(63&i)):1===s?o.push(e(i>>2&63)):o.push(e(63&(t(n,r-1)<<4|i>>4))),r===c-1&&0<s&&o.push(e(i<<(3-s<<1)&63));if(s)for(;s<3;)s+=1,o.push("=");return o.join("")},o={app:0},s={system:{}},c=function(){try{wx.getSetting&&wx.getSetting({success:function(e){e.authSetting&&e.authSetting["scope.userLocation"]&&function(){try{wx.getLocation({type:"wgs84",success:function(e){s.location=e}})}catch(e){}}()}})}catch(e){}},i=function(e){try{wx.getSetting?wx.getSetting({success:function(t){t.authSetting&&t.authSetting["scope.userInfo"]?r(e):e&&e()},fail:function(){e&&e()}}):e&&e()}catch(t){e&&e()}},r=function(e){wx.getUserInfo({success:function(t){var n={};Object.assign(n,t.userInfo),n.nickName=encodeURIComponent(t.userInfo.nickName),n.city=encodeURIComponent(t.userInfo.city),n.province=encodeURIComponent(t.userInfo.province),n.country=encodeURIComponent(t.userInfo.country),s.userInfo=n,e&&e()},fail:function(){e&&e()}})};return function(){try{wx.getSystemInfo({success:function(e){Object.assign(s.system,e)}})}catch(e){}}(),function(){try{wx.getNetworkType({success:function(e){s.system.networkType=e.networkType}}),wx.onNetworkStatusChange&&wx.onNetworkStatusChange((function(e){s.system.networkType=e.networkType}))}catch(e){}}(),function(){try{wx.onAccelerometerChange((function(e){s.system.accelerometer||(s.system.accelerometer=[]),20<s.system.accelerometer.length&&s.system.accelerometer.shift(),s.system.accelerometer.push({x:Number(e.x).toFixed(3),y:Number(e.y).toFixed(3),z:Number(e.z).toFixed(3)})})),wx.onCompassChange((function(e){s.system.compass||(s.system.compass=[]),20<s.system.compass.length&&s.system.compass.shift(),s.system.compass.push(Number(e.direction).toFixed(3))}))}catch(e){}}(),i(),c(),{s:function(e){o.app=e},g:function(e){s.app=o.app;var t="WX__1_";try{if(s.location||c(),s.userInfo){var r=JSON.stringify(s);t+=n(r),e&&e(t)}else i((function(){var o=JSON.stringify(s);t+=n(o),e&&e(t)}))}catch(n){e&&e(t)}}}},"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):(void 0).finger=e();