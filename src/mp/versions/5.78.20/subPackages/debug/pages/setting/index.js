var e=Object.create,t=Object.defineProperty,o=Object.getOwnPropertyDescriptor,a=Object.getOwnPropertyNames,s=Object.getPrototypeOf,n=Object.prototype.hasOwnProperty,i=i=>{return((e,s,i)=>{if(s&&"object"==typeof s||"function"==typeof s)for(let u of a(s))n.call(e,u)||"default"===u||t(e,u,{get:()=>s[u],enumerable:!(i=o(s,u))||i.enumerable});return e})((u=t(null!=i?e(s(i)):{},"default",i&&i.__esModule&&"default"in i?{get:()=>i.default,enumerable:!0}:{value:i,enumerable:!0}),t(u,"__esModule",{value:!0})),i);var u},u=i(require("../../../../o8.js")),r=i(require("../../../../er.js")),l=i(require("../../../../u8.js")),p=i(require("../../../../u0.js")),c=i(require("../../../../u3.js")),g=i(require("../../../../ad.js")),m=i(require("../../../../st.js")),{log:d}=require("../../../../ob.js"),y=getApp();(0,r.default)({data:{isWX:(0,l.isWX)(),isWXMT:(0,l.isWXMT)(),isMMP:(0,l.isMMP)(),showLicense:["xiaoxiang","maicai","youxuan"].indexOf("youxuan")>=0,ver:(0,l.getAppVersion)(y,wx),isApp:(0,l.isApp)(),isStandardApp:(0,l.isStandardApp)(),debugPasswordModal:!1,debugNum:0,inputValue:"",isShowUpdate:(0,l.isApp)()&&!y.$systemInfo.isIOS()&&(0,c.default)(y.$systemInfo.systemInfo.appVersion||"0.0.0","6.4.0")>=0,isNotSupportNavigationStyle:g.isNotSupportNavigationStyle,zoomfontSizeAB:m.BigFont.isZoomable(),isOpenZoomable:!1,title:"设置"},onLoad(){this.setData({isOpenZoomable:u.dataCenter.isSwitchOn})},onShow(){y.$lxLog.pv("c_youxuan_iev7nn04")},goBack(){y.$router.triggerBack("list-goback")},logout(e){const{bid:t}=e.currentTarget.dataset;y.isLogin()?(t&&y.$lxLog.mc(t),this.confirm({message:"确定要退出当前账户吗？",textCancel:"取消",ok:()=>{this.clearUserInfo(),(0,p.default)(y,{token:""}),getApp().$router.triggerBack("setting-logout")}})):this.toast("您还没有登录")},jumpPlatformRulesCenter(){const e="https://rules-center.meituan.com/m?commonType=12";if((0,l.isApp)()){const t=`igrocery://www.grocery.com/web_knb?url=${encodeURIComponent(e)}`;y.$router.goto(t)}else if((0,l.isMMP)()){const t=`imeituan://www.meituan.com/web_knb?url=${encodeURIComponent(e)}`;y.$router.goto(t)}else y.$router.goto(e)},clearUserInfo(){const e=y.page();getApp().getModule("login").logout(null==e?void 0:e.__route__)},gotoReceiverList(){y.$router.goto("/subPackages/receiverList/pages/list/index",{pageFrom:"setting"})},jumpPrivacyAdmin(){y.$router.goto("/subPackages/privacyAdmin/index")},handleVersionTap(){},onOk(){const{inputValue:e}=this.data;"87654"===e?(this.setData({inputValue:"",debugPasswordModal:!1}),this.goDebugger()):(this.setData({inputValue:""}),wx.showToast({title:"好像不对哦~",icon:"none"}))},onCancel(){this.setData({debugPasswordModal:!1,inputValue:""})},goDebugger(){this.setData({debugPasswordModal:!1,inputValue:""}),y.$router.goto("/subPackages/debug/pages/root/index")},bindKeyInput(e){this.setData({inputValue:e.detail.value})},checkAppUpdate(){(0,l.isApp)()&&(y.$lxLog.mc("b_youxuan_itkdp065_mc"),y.page().loading(!0),mmp.callCustomAPI("checkUpdate",{fail(e){y.page().loading(!1),y.page().toast("检查更新失败，请稍后重试")},success(e){y.page().loading(!1),e&&0===e.needUpdate&&(y.page().toast("当前已是最新版本"),y.$lxLog.mv("b_youxuan_t8f03nd4_mv"))}}))},fastPaymentClick(){let e="test"===y.getModule("env").getEnv()?"http://stable.pay.test.sankuai.com/resource/pay-deduction-part/index.html?mtPlanId=1585&nb_app=meituanyouxuan_app&entry=igrocery_usercenter":"https://npay.meituan.com/resource/pay-deduction-part/index.html?mtPlanId=1017&nb_app=meituanyouxuan_app&entry=igrocery_usercenter";e=`${encodeURIComponent(e)}`,y.$router.goto("igrocery://www.grocery.com/web_knb?url="+e)},uploadLog(){(0,l.isApp)()&&mmp.callCustomAPI("uploadLog",{fail(){d.info("上传日志失败，请稍后重试～")},success(){d.info("上传日志成功，感谢反馈～")}})},closeAccount(){y.page().confirm({customContentStyle:"text-align: center;",title:"注销账号",message:"账号注销后所有信息将无法恢复\n如需注销账号，请拨打客服电话\n400 091 9699",textCancel:"取消",textOk:"确认",ok:()=>{}})},handleTypeChange(e){var t;const{isOpenZoomable:o}=null==(t=null==e?void 0:e.currentTarget)?void 0:t.dataset;u.dataCenter.setSwitch(!o),this.setData({isOpenZoomable:!o});const a=l.isWX||l.isWXMT?"小程序":"应用";wx.showToast({title:`下次重启${a}生效`,icon:"none",duration:2e3})}});