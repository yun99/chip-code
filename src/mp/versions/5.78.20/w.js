var e=Object.create,t=Object.defineProperty,a=Object.getOwnPropertyDescriptor,o=Object.getOwnPropertyNames,r=Object.getPrototypeOf,i=Object.prototype.hasOwnProperty,n=e=>t(e,"__esModule",{value:!0});((e,a)=>{for(var o in n(e),a)t(e,o,{get:a[o],enumerable:!0})})(exports,{default:()=>u});var d,s=(d=require("./la.js"),((e,r,n)=>{if(r&&"object"==typeof r||"function"==typeof r)for(let d of o(r))i.call(e,d)||"default"===d||t(e,d,{get:()=>r[d],enumerable:!(n=a(r,d))||n.enumerable});return e})(n(t(null!=d?e(r(d)):{},"default",d&&d.__esModule&&"default"in d?{get:()=>d.default,enumerable:!0}:{value:d,enumerable:!0})),d)),l=getApp(),u=class{constructor(){this.methods={handleAddRedemption(){var e;if(!(null==(e=this.data.defaultData)?void 0:e.valid))return void l.page().toast("暂不满足换购条件，先去凑单~");const{skuId:t,promotionId:a,promotionType:o}=this.data.defaultData;this.triggerEvent("handleAddRedemption",{skuId:t,promotionId:a,promotionType:o,lxData:this.getLxLogParams()})},handleGoSkuDetail(){const{skuId:e}=this.data.defaultData;s.default.onRedemptionCardClick(this.getLxLogParams()),l.$router.goto("/pages/skuDetail/index",{poiId:l.$poiId,skuId:e,poiIdStr:l.$poiIdStr||""})},getLxLogParams(){const{index:e}=this.data,{skuId:t,sellPriceUnitInfoV3:a}=this.data.defaultData;return{sku_id:t,index_id:e,sale_price:(null==a?void 0:a.sellUnitViewPrice)/100,origin_price:(null==a?void 0:a.sellUnitViewLinePrice)/100}},onMvReport(){s.default.onRedemptionCardShow(this.getLxLogParams())}},this.properties={defaultData:{type:Object},index:{type:Number},isJustOnSku:{type:Boolean,value:!1}},this.data={fontRate:l.$cart.getCartFontRate()||1},this.externalClasses=["redemption-recommend-item-ext"]}};Component(new u);