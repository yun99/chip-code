var t=Object.create,e=Object.defineProperty,a=Object.getOwnPropertyDescriptor,i=Object.getOwnPropertyNames,o=Object.getPrototypeOf,s=Object.prototype.hasOwnProperty,r=t=>e(t,"__esModule",{value:!0}),n=n=>((t,o,r)=>{if(o&&"object"==typeof o||"function"==typeof o)for(let n of i(o))s.call(t,n)||"default"===n||e(t,n,{get:()=>o[n],enumerable:!(r=a(o,n))||r.enumerable});return t})(r(e(null!=n?t(o(n)):{},"default",n&&n.__esModule&&"default"in n?{get:()=>n.default,enumerable:!0}:{value:n,enumerable:!0})),n);((t,a)=>{for(var i in r(t),a)e(t,i,{get:a[i],enumerable:!0})})(exports,{default:()=>c});var d=n(require("./dt.js")),l=n(require("./kq.js")),h=new d.default,c={data:{birthdayInfo:{}},initBirthdaySDK({data:t={},success:e,fail:a}={}){l.rohr.i(l.rohrConfig.i),this.callBackSuccess=e,this.callBackFail=a,this.setData({birthdayInfo:{data:t,disabled:!1,show:!0,opacity:.5,isSend:!1,mainTitle:t.mainTitle||"请在下方填写您",subTitle:t.subTitle||"身份证上8位生日号码",inputPlaceholder:t.inputPlaceholder||"例如：19891020",buttonValue:t.buttonValue||"验证"}}),this.getBirthdayInfo()},getBirthdayInfo(){const{birthdayInfo:t,birthdayInfo:{data:{request_code:e,action:a,type:i,options:o}}}=this.data;t.birthdayInput="";const s=this;h.sendInfo({request_code:e,type:i,action:a}).then((e=>{const a=e;1===a.status?(t.birthdayMessage=a.data.prompt.message,t.isSend=!0,t.opacity=.5):tt.showToast({title:a.error.message||"发生异常了",content:a.error.message||"发生异常了"}),s.setData({birthdayInfo:t})})).catch((()=>{h.catchCallback("获取数据异常",0,"请求生日验证信息出异常了",o,this)}))},bindBirthdaySwitch(){const{birthdayInfo:t={},birthdayInfo:{isSend:e,birthdayInput:a,opacity:i,data:{action:o,request_code:s,type:r,options:n,listIndex:d}}}=this.data;if(!e||1!==i)return;let l=this.data;l.birthdayInfo.disabled=!0,this.setData(l),tt.showLoading({title:"验证中...",mask:!0}),h.verify({request_code:s,type:r,action:o,options:{birthday:a,listIndex:d}}).then((e=>{l=this.data,l.birthdayInfo.disabled=!1,this.setData(l),tt.hideLoading();const{status:a,error:i,data:o}=e;if(1===a){if(t.show=!1,h.nextVerify(t.data,o.nextVerifyMethodId))return;this.setData({birthdayInfo:t}),h.successCallback(s,o.response_code,n,this)}else this.handleError(i)})).catch((()=>{h.catchCallback("验证异常",0,"请求验证异常了",n,this)}))},handleError(t){const{birthdayInfo:{data:{options:e}}}=this.data;h.errorCallback(t,e,this.getBirthdayInfo,this)},bindbirthdayInput(t){const{birthdayInfo:e}=this.data;e.birthdayInput=t.detail.value,e.opacity=8===t.detail.value.length?1:.5,this.setData({birthdayInfo:e})},changeVerify(){const{birthdayInfo:{data:t}}=this.data;h.changeVerify(t)},onTapPage(t){l.rohr.t(t)},onTouchMovePage(t){l.rohr.m(t)}};