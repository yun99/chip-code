var e=Object.create,t=Object.defineProperty,r=Object.getOwnPropertyDescriptor,n=Object.getOwnPropertyNames,i=Object.getPrototypeOf,u=Object.prototype.hasOwnProperty,o=e=>t(e,"__esModule",{value:!0}),l=l=>((e,i,o)=>{if(i&&"object"==typeof i||"function"==typeof i)for(let l of n(i))u.call(e,l)||"default"===l||t(e,l,{get:()=>i[l],enumerable:!(o=r(i,l))||o.enumerable});return e})(o(t(null!=l?e(i(l)):{},"default",l&&l.__esModule&&"default"in l?{get:()=>l.default,enumerable:!0}:{value:l,enumerable:!0})),l),s=(e,t,r)=>new Promise(((n,i)=>{var u=e=>{try{l(r.next(e))}catch(e){i(e)}},o=e=>{try{l(r.throw(e))}catch(e){i(e)}},l=e=>e.done?n(e.value):Promise.resolve(e.value).then(u,o);l((r=r.apply(e,t)).next())}));((e,r)=>{for(var n in o(e),r)t(e,n,{get:r[n],enumerable:!0})})(exports,{getCommonFinger:()=>y,getFinger:()=>d,getFingerPlatform:()=>v,getRiskParams:()=>h,getRiskParamsWeChat:()=>b,getWeChatFinger:()=>m});var p,a=l(require("./po.js")),g=l(require("./u8.js")),c=l(require("./l0.js")),{log:f}=require("./ob.js");function d(){return new Promise((e=>{try{mmp.getRiskControlFingerprint({success(t){e(t.fingerprint)},fail(t){f.error("<getFinger> 获取MMP风控参数失败",t),e("")}})}catch(t){e("")}}))}function m(){return s(this,null,(function*(){const e=getApp();if(!p){let{jsguardInstance:e}=getApp().globalData;p=e.finger}return new Promise((t=>{try{p.s("tt48f03e4dd7c81b7d01"),p.o(e.$user.openId),p.u(e.$user.unionId),p.m("1399386702"),p.g((e=>{t(e)}))}catch(e){t("")}}))}))}function y(){return s(this,null,(function*(){let e="";return e=yield(0,c.getAppletsFingerprint)(),{fingerprint:"",weChatFingerprint:e}}))}function v(){return(0,a.isMMP)()?20:(0,g.isTT)()?28:13}function h({riskLevelPropName:e="wxRiskLevel",riskLevelStringify:t=!0}={}){const r=getApp();return y().then((n=>{const i={uuid:r.$uuid,platform:v(),appletsFingerprint:(null==n?void 0:n.weChatFingerprint)||"",fingerprint:(null==n?void 0:n.fingerprint)||"",deviceInfoByQQ:void 0},u={openId:r.$user.openId,appId:"tt48f03e4dd7c81b7d01",mchid:"1399386702"};return e&&(i[e]=t?JSON.stringify(u):u),(0,g.isInWX)()&&(i.deviceInfoByQQ=JSON.stringify({identityInfo:{appid:"tt48f03e4dd7c81b7d01",openid:r.$user.openId},user_type:"wx"})),i}))}function b(){return s(this,null,(function*(){const e=yield y();return{platform:v(),weChatFingerprint:(null==e?void 0:e.weChatFingerprint)||"",fingerprint:(null==e?void 0:e.fingerprint)||"",app:(0,g.isApp)()?177:(0,g.isWXMT)()?-1:0}}))}