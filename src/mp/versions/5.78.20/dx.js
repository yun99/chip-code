var e=Object.create,t=Object.defineProperty,o=Object.getOwnPropertyDescriptor,r=Object.getOwnPropertyNames,n=Object.getPrototypeOf,a=Object.prototype.hasOwnProperty,c=e=>t(e,"__esModule",{value:!0});((e,o)=>{for(var r in c(e),o)t(e,r,{get:o[r],enumerable:!0})})(exports,{default:()=>p});var l,u=(l=require("./dg.js"),((e,n,c)=>{if(n&&"object"==typeof n||"function"==typeof n)for(let l of r(n))a.call(e,l)||"default"===l||t(e,l,{get:()=>n[l],enumerable:!(c=o(n,l))||c.enumerable});return e})(c(t(null!=l?e(n(l)):{},"default",l&&l.__esModule&&"default"in l?{get:()=>l.default,enumerable:!0}:{value:l,enumerable:!0})),l));function p(e,t,o=App){let{error:r,pageSpeed:n,resource:a,pvManager:c,metricV2:l,cfgManager:p}=e,{onLaunch:i,onShow:d,onHide:f,onError:s,onUnhandledRejection:h,onPageNotFound:g}=t;t.onLaunch=function(e){try{let t=Date.now();n.appLaunch(t,e.path)}catch(e){}i&&i.call(this,e)},t.onShow=function(e){try{let e=p.get("autoCatch");if(e&&e.pv){let e=(0,u.getPageUrl)();c.report({pageUrl:e})}}catch(e){}d&&d.call(this,e)},t.onHide=function(){try{r.report(),a.report(),l.report()}catch(e){}f&&f.call(this)},t.onError=function(e){try{e=t.preError?t.preError(e):e,r.onError(e)}catch(e){}s&&s.call(this,e)},t.onUnhandledRejection=function(e){try{let t=p.get("autoCatch");t&&t.promiseRejection&&e&&e.reason&&e.reason instanceof Error&&r.onPromiseRejection(e.reason)}catch(e){}h&&h.call(this,e)},t.onPageNotFound=function(e){try{e&&(e=t.preNotFound?t.preNotFound(e):e,r.addError("page not found",e.path))}catch(e){}g&&g.call(this,e)},o(t)}