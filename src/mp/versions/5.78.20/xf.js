var e=Object.create,t=Object.defineProperty,r=Object.getOwnPropertyDescriptor,a=Object.getOwnPropertyNames,n=Object.getPrototypeOf,o=Object.prototype.hasOwnProperty,s=e=>t(e,"__esModule",{value:!0});((e,r)=>{for(var a in s(e),r)t(e,a,{get:r[a],enumerable:!0})})(exports,{genMtShareId:()=>p,genShareId:()=>d,getLeaderShareParams:()=>h,getShareUrlParams:()=>c,linkSharePath:()=>l});var u,i=(u=require("./ua.js"),((e,n,s)=>{if(n&&"object"==typeof n||"function"==typeof n)for(let u of a(n))o.call(e,u)||"default"===u||t(e,u,{get:()=>n[u],enumerable:!(s=r(n,u))||s.enumerable});return e})(s(t(null!=u?e(n(u)):{},"default",u&&u.__esModule&&"default"in u?{get:()=>u.default,enumerable:!0}:{value:u,enumerable:!0})),u));function d(){var e;return`${(null==(e=getApp().getModule("user"))?void 0:e.getUserId())||0}-${Date.now()}-${function(e=8){if(!e)return;let t="";for(let r=0;r<e;r++)t+=Math.floor(10*Math.random());return t}(8)}`}function p(){return`${Date.now().toString(36)}${function(e=4){const t="abcdefghijklmnopqrstuvwxyz0123456789",{length:r}=t;let a="";for(let n=0;n<e;n++)a+=t.charAt(Math.floor(Math.random()*r));return a}(4)}`}function l(e,t){var r;if(!e)return"";const a=e.includes("?")?"&":"?";e+=t?`${a}shareid=${t}&share_type=url`:`${a}shareid=${d()}&share_type=url`;const n=getApp(),o=(null==(r=null==n?void 0:n.$appShowOptions)?void 0:r.query)||{};if("grouphead"===o.from){const t=o.shareid;t&&(e+=`&start_shareid=${t}`)}return e}function c(e){const t={},r=e.indexOf("?");if(r>-1){const a=e.slice(r+1).split("&")||[];for(let e=0;e<a.length;e++)if(a[e].indexOf("=")>-1){const[r,n]=a[e].split("=");t[r]=n}}return t}function h(e){var t,r;try{const a=(null==(t=i.default.get("utm"))?void 0:t.utm_term)||"{}",n=JSON.parse(a),o=getApp(),s={shareTime:Date.now(),bid:"b_youxuan_cshare_mc",eventType:"CREATE_SHARE",shareId:"",shareType:"url",suid:n.suid||(null==(r=o.getModule("user"))?void 0:r.getUserId())||"",sappnm:"meituanyouxuan_wxapp",scid:"",poiId:0,poiIdStr:-999,skuId:-999,type:1};return(e.shareid||e.shareId)&&(s.shareId=e.shareid||e.shareId),(e.sku_id||e.skuId)&&(s.skuId=e.sku_id-0||e.skuId-0),(e.spoi||e.poiId)&&(s.poiId=e.spoi-0||e.poiId-0),e.poiIdStr&&(s.poiIdStr=e.poiIdStr),e.scid&&(s.scid=e.scid),e.sappnm&&(s.sappnm=e.sappnm),e.eventType&&(s.eventType=e.eventType),(e.shareType||e.share_type)&&(s.shareType=e.shareType||e.share_type),s}catch(e){}}