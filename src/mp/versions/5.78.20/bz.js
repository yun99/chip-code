var e=Object.create,t=Object.defineProperty,s=Object.getOwnPropertyDescriptor,i=Object.getOwnPropertyNames,o=Object.getPrototypeOf,n=Object.prototype.hasOwnProperty,a=e=>t(e,"__esModule",{value:!0}),l=l=>((e,o,a)=>{if(o&&"object"==typeof o||"function"==typeof o)for(let l of i(o))n.call(e,l)||"default"===l||t(e,l,{get:()=>o[l],enumerable:!(a=s(o,l))||a.enumerable});return e})(a(t(null!=l?e(o(l)):{},"default",l&&l.__esModule&&"default"in l?{get:()=>l.default,enumerable:!0}:{value:l,enumerable:!0})),l);((e,s)=>{for(var i in a(e),s)t(e,i,{get:s[i],enumerable:!0})})(exports,{default:()=>d});var r=l(require("./jc.js")),u=l(require("./lq.js"));function d(){return(0,r.createComponent)({externalClasses:["customer-class-wrap","customer-class-dot","customer-class-num","customer-class-day","customer-class-dayunit"],propTypes:null,properties:{endTime:{type:Number,value:0,observer(e){this.initCountDown(e)}},endSeconds:{type:Number,value:0,observer(e){this.initCountDown(e)}},isUseEndSeconds:{type:Boolean,value:!1},milliSecondBorder:{type:Number,value:0},scene:{type:String,value:""},colorType:{type:String,value:"red"},backGroudColor:{type:String,value:""},dotStyle:{type:String,value:""},textColor:{type:String,value:"#000000"},fontSize:{type:Number,value:24},numStyle:{type:String,value:""},showDays:{type:Boolean,value:!1}},data:{hours:"00",minutes:"00",seconds:"00",days:"0",pageIsShow:!0,stopTime:0,simpleHours:0,simpleMinutes:0,simpleSeconds:0,showMilliSecond:!1},lifetimes:{created(){this.initCommonData()},ready(){this.residualSeconds-=1e3},detached(){clearInterval(this.timer),this.timer=null}},pageLifetimes:{show(){if(this.pageIsShow=!0,this.data.isUseEndSeconds){const e=Math.abs(Date.now()-this.stopTime),t=this.residualSeconds-e;this.initCountDown(t>0?t:0)}else this.initCountDown(this.properties.endTime)},hide(){this.pageIsShow=!1,clearInterval(this.timer),this.data.isUseEndSeconds&&(this.stopTime=Date.now())}},methods:{initCommonData(){this.residualSeconds=0,this.timer=null},initCountDown(e){clearInterval(this.timer),this.data.pageIsShow&&(this.data.isUseEndSeconds?this.residualSeconds=e:this.residualSeconds=e-Date.now(),this.syncDisplayTime(),this.updateDisplayTimeBySecond())},updateDisplayTimeBySecond(){this.timer=setInterval((()=>{this.syncDisplayTime(),this.residualSeconds-=1e3}),1e3)},syncDisplayTime(){if(this.residualSeconds>=0){const e=(0,u.formatTimeInCountDown)(this.residualSeconds);this.setData(e),this.checkShowMilliSecond(this.residualSeconds)}else clearInterval(this.timer),this.timer=null,this.setData({hours:"00",minutes:"00",seconds:"00",days:"0",simpleHours:0,simpleMinutes:0,simpleSeconds:0}),this.checkShowMilliSecond(this.residualSeconds),this.triggerEvent("countEnd")},checkShowMilliSecond(e){const{milliSecondBorder:t}=this.data;t&&(e<=0?this.setData({showMilliSecond:!1}):this.setData({showMilliSecond:e<t}))}}})}