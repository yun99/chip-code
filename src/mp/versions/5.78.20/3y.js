var e=Object.create,r=Object.defineProperty,t=Object.getOwnPropertyDescriptor,l=Object.getOwnPropertyNames,s=Object.getPrototypeOf,u=Object.prototype.hasOwnProperty,a=e=>r(e,"__esModule",{value:!0}),n=n=>((e,s,a)=>{if(s&&"object"==typeof s||"function"==typeof s)for(let n of l(s))u.call(e,n)||"default"===n||r(e,n,{get:()=>s[n],enumerable:!(a=t(s,n))||a.enumerable});return e})(a(r(null!=n?e(s(n)):{},"default",n&&n.__esModule&&"default"in n?{get:()=>n.default,enumerable:!0}:{value:n,enumerable:!0})),n);((e,t)=>{for(var l in a(e),t)r(e,l,{get:t[l],enumerable:!0})})(exports,{default:()=>g});var o=n(require("./20.js")),i=n(require("./ms.js")),c=n(require("./ob.js")),m=n(require("./vw.js")),d=n(require("./ma.js")),g=class extends o.default{constructor(){super(...arguments),this.name="WxPluginUriHandler",this.shouldHandle=e=>(0,d.isPluginRouterUriRequest)(e),this.handleInternal=e=>{return r=this,t=null,l=function*(){return new Promise((r=>{try{const t=e.getUri().getUrl();let l="navigateTo";getCurrentPages().length>=8&&(l="redirectTo"),wx[l]({url:t,success:e=>r({resultCode:i.RESULT_CODE.SUCCESS,finallyUrl:t,errMsg:e.errMsg||""}),fail:e=>{c.log.warn(m.MOUDULE_NAME,"fail",e,t),r({resultCode:i.RESULT_CODE.ERROR,finallyUrl:t,errMsg:null==e?void 0:e.message})}})}catch(t){c.log.error(m.MOUDULE_NAME,this.name,t),r({resultCode:i.RESULT_CODE.ERROR,finallyUrl:e.getUri().getUrl(),errMsg:null==t?void 0:t.message})}}))},new Promise(((e,s)=>{var u=e=>{try{n(l.next(e))}catch(e){s(e)}},a=e=>{try{n(l.throw(e))}catch(e){s(e)}},n=r=>r.done?e(r.value):Promise.resolve(r.value).then(u,a);n((l=l.apply(r,t)).next())}));var r,t,l},this.needInterceptor=()=>!1}};