var t,e,o=Object.create,r=Object.defineProperty,a=Object.defineProperties,n=Object.getOwnPropertyDescriptor,i=Object.getOwnPropertyDescriptors,l=Object.getOwnPropertyNames,u=Object.getOwnPropertySymbols,c=Object.getPrototypeOf,s=Object.prototype.hasOwnProperty,f=Object.prototype.propertyIsEnumerable,p=(t,e,o)=>e in t?r(t,e,{enumerable:!0,configurable:!0,writable:!0,value:o}):t[e]=o,m=(t,e)=>{for(var o in e||(e={}))s.call(e,o)&&p(t,o,e[o]);if(u)for(var o of u(e))f.call(e,o)&&p(t,o,e[o]);return t},g=(t,e)=>a(t,i(e)),b=(t=require("./kc.js"),((t,e,o)=>{if(e&&"object"==typeof e||"function"==typeof e)for(let a of l(e))s.call(t,a)||"default"===a||r(t,a,{get:()=>e[a],enumerable:!(o=n(e,a))||o.enumerable});return t})((e=r(null!=t?o(c(t)):{},"default",t&&t.__esModule&&"default"in t?{get:()=>t.default,enumerable:!0}:{value:t,enumerable:!0}),r(e,"__esModule",{value:!0})),t)),y={timeoutId:0,toastCtx:null},d={};function O(t){let e=t;if(!e){const t=getCurrentPages();e=t[t.length-1]}return e}function C(t,e){let o=t||{};"string"==typeof t&&(o={message:t});let r=O(e);r.$rootComp&&(r=r.$rootComp);const a=function(t){return(t.data.bitc||{}).__bitcToastPageConfig||{}}(r),n=m(m(m({},d),a),o);if(!(0,b.isFunction)(r.selectComponent))return;const i=r.selectComponent(n.selector||"#bitc-toast");if(!i)return;if(!n.message)throw"toast内容不能为空！";y.timeoutId&&C.clear(),i.show(g(m({},n),{show:!0}));let l=0;(void 0===n.timeout||n.timeout>=0)&&(l=setTimeout((()=>{i.clear()}),n.timeout||2e3)),y={timeoutId:l,toastCtx:i}}C.setDefaultOptions=function(t={},e="page"){const o={selector:t.selector||"",type:t.type||"",icon:t.icon||"",image:t.image||"",timeout:t.timeout||2e3};if("global"===e)d=m({},o);else if("page"===e){O().setData({"bitc.__bitcToastPageConfig":o})}},C.resetDefaultOptions=function(t="page"){if("global"===t)d={};else{O().setData({"bitc.__bitcToastPageConfig":{}})}},C.clear=function(){clearTimeout(y.timeoutId);try{y.toastCtx&&y.toastCtx.clear()}catch(t){}y={timeoutId:0,toastCtx:null}},C.loading=function(t={}){C(g(m({},t),{type:"loading"}))},module.exports=C;