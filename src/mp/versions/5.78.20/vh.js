var e=Object.create,t=Object.defineProperty,o=Object.getOwnPropertyDescriptor,r=Object.getOwnPropertyNames,a=Object.getPrototypeOf,l=Object.prototype.hasOwnProperty,u=e=>t(e,"__esModule",{value:!0}),n=n=>((e,a,u)=>{if(a&&"object"==typeof a||"function"==typeof a)for(let n of r(a))l.call(e,n)||"default"===n||t(e,n,{get:()=>a[n],enumerable:!(u=o(a,n))||u.enumerable});return e})(u(t(null!=n?e(a(n)):{},"default",n&&n.__esModule&&"default"in n?{get:()=>n.default,enumerable:!0}:{value:n,enumerable:!0})),n);((e,o)=>{for(var r in u(e),o)t(e,r,{get:o[r],enumerable:!0})})(exports,{default:()=>c});var s=n(require("./ob.js")),i=n(require("./is.js")),c=(e,t)=>{var o,r,a,l,u;const{request:n,response:c}=e,d=getApp(),p=(null==(o=null==d?void 0:d.globalData)?void 0:o.yodaVerificationLock)||!1;if(406===(null==(r=null==c?void 0:c.data)?void 0:r.code)&&!1===p){const{requestPath:e}=t||{};s.log.info("[yodaResponseInterceptor] url & yodaVerificationLock",null==n?void 0:n.url,p,e),d.globalData.yodaVerificationLock=!0;const o=getCurrentPages(),r=o[o.length-1],g=null==r?void 0:r.route,f=(null==r?void 0:r.options)||{},y={requestPath:e||"",requestCode:(null==(l=null==(a=null==c?void 0:c.data)?void 0:a.customData)?void 0:l.requestCode)||"",sourceRouteURL:g,sourceParams:decodeURIComponent(JSON.stringify(f))};s.log.info("[yodaResponseInterceptor]",r),(null==(u=d.$cat)?void 0:u.reportCustomMetrics)&&d.$cat.reportCustomMetrics(i.YXReportTarget.MTSI_REQUEST_RECALL,i.ReportValue.SUCCESS,{pageUrl:g||"",result:"failed",path:e||""}),d.$router.goto("igrocery://www.grocery.com/yodaPage_redirect",y,{fnName:"redirectTo"})}return e};