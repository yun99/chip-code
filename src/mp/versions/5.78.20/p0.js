var e=Object.create,t=Object.defineProperty,n=Object.getOwnPropertyDescriptor,r=Object.getOwnPropertyNames,a=Object.getPrototypeOf,i=Object.prototype.hasOwnProperty,o=e=>t(e,"__esModule",{value:!0}),u=(e,a,o)=>{if(a&&"object"==typeof a||"function"==typeof a)for(let u of r(a))i.call(e,u)||"default"===u||t(e,u,{get:()=>a[u],enumerable:!(o=n(a,u))||o.enumerable});return e},s=n=>u(o(t(null!=n?e(a(n)):{},"default",n&&n.__esModule&&"default"in n?{get:()=>n.default,enumerable:!0}:{value:n,enumerable:!0})),n);((e,n)=>{for(var r in o(e),n)t(e,r,{get:n[r],enumerable:!0})})(exports,{asyncMetricsSetData:()=>U,asyncSetData:()=>A,camelToUnderScore:()=>p.camelToUnderScore,convertPxToRpx:()=>P,convertRpxToPx:()=>O,deepGetData:()=>M,formatNumber:()=>p.formatNumber,formatSwimUrl:()=>b,formatTime:()=>p.formatTime,formatTimeByPattern:()=>p.formatTimeByPattern,formatTimeInSecond:()=>p.formatTimeInSecond,formatTimeToDay:()=>p.formatTimeToDay,formatToTimeStamp:()=>p.formatToTimeStamp,generateParams:()=>p.generateParams,getBoundingClientRect:()=>T,getGlobalRequestId:()=>I,getImageTempFilePathAsync:()=>S,getLocation:()=>D,getNextHour:()=>q,getOneDayExpires:()=>$,getOpenidAndUnionid:()=>_,getPerformanceExtraData:()=>E,getStrLen:()=>p.getStrLen,getVariableType:()=>p.getVariableType,isEmptyObject:()=>p.isEmptyObject,isMMP:()=>d.isMMP,isNotEmptyObject:()=>p.isNotEmptyObject,isToday:()=>p.isToday,qs:()=>j,rpx2px:()=>h,stickyEventHandle:()=>w,tabBarIndex:()=>x});var l=s(require("./u9.js")),c=s(require("./uf.js")),d=s(require("./po.js")),m=s(require("./uc.js")),p=s(require("./cr.js")),y=s(require("./ob.js"));u(exports,s(require("./cr.js")));var{tabBarList:g=[]}=require("./gj.js"),{CAT_SEC_CATEGORY:f}=require("./iu.js"),v=require("./p3.js");function b(){var e,t;const n=null==(e=getApp())?void 0:e.getModule("env").getSwimlane(),r=null==(t=getApp())?void 0:t.getModule("env").getEnv(),a=v.parse(m.h5Uri);return"test"===r&&n&&"consumer.mall.test.sankuai.com"===a.host?(a.host=`${n}-sl-${a.hostname}`,v.format(a)):v.format(a)}function D(){let e=null;return wx.getLocationAsync().then((t=>(e=`${t.longitude},${t.latitude}`,e))).catch((t=>e))}function x(e){if(!g.length)return-1;if(!e||"string"!=typeof e)return-1;let t=e;return"/"===e[0]&&(t=e.substr(1)),g.indexOf(t)}function T(e,t=wx){if(e&&"#"===e[0])return new Promise(((n,r)=>{try{const r=t.createSelectorQuery();r.select(`.page-layout >>> ${e}`).boundingClientRect(),r.exec((e=>{n(e[0])}))}catch(e){r(e)}}))}function w(e,t,n,r={}){if(!e)return;if(!t)return;let a=null;return a=e.createIntersectionObserver({initialRatio:1}),a.relativeTo(".page-layout >>> .content-scroll-wrapper",r).observe(t,(e=>{n(e)})),a}function h(e){var t,n;const r=null==(t=getApp().$systemInfo)?void 0:t.systemInfo,a=(null==r?void 0:r.screenWidth)||375,i=(null==r?void 0:r.devicePixelRatio)||2,o=null==(n=null==r?void 0:r.model)?void 0:n.match("iPhone");return"string"==typeof e&&(e=parseFloat(e)),0===e||Number.isNaN(e)?0:(0===(e=(e=e/2/375*a)>=0?Math.floor(e+1e-4):Math.ceil(e-1e-4))&&(e=1!==i&&o?.5:1),e)}function O(e){const t=750/getApp().$systemInfo.systemInfo.windowWidth;return Math.floor(e/t)}function P(e){const t=750/getApp().$systemInfo.systemInfo.windowWidth;return Math.floor(e*t)}function S(e){return new Promise(((t,n)=>{wx.downloadFile({url:e,success:e=>{t(e)},fail:e=>{n(e)}})}))}function A(e){return function(t){return new Promise(((n,r)=>{e||r(new Error("asyncSetData 异步渲染 没有传 scope!")),"object"!==(0,p.getVariableType)(t)&&null===t&&r(new Error("asyncSetData异步渲染 renderData 不合法")),e.setData(t,(()=>n()))}))}}function U(e){return function(t,n,r){return new Promise(((a,i)=>{e||i(new Error("asyncMetricsSetData 异步渲染 没有传 scope!")),"object"!==(0,p.getVariableType)(t)&&null===t&&i(new Error("asyncSetData异步渲染 renderData 不合法")),n.extra=E(),e.metricsSetData(t,n,(()=>{r(),a()}))}))}}function I(e){let t=`t:${(new Date).getTime()}#`;return t+=`r:${Math.floor(1e7*Math.random())}#`,e&&(t+=`p:${e}`),t}function $(){const e=(0,p.formatTimeToDay)(new Date,"/");return(new Date(`${e} 23:59:59`).getTime()-+new Date)/1e3}var j={parse:p.qsParse,stringify:p.qsStringify};function M(e,t,n){return(Array.isArray(t)?t:t.replace(/\[/g,".").replace(/\]/g,"").split(".")).reduce(((e,t)=>(e||{})[t]),e)||n}function E(){var e,t,n,r;const a=getApp(),i=l.default.getCurrentLocationInfoSync();return{city_id:(null==(e=null==i?void 0:i.address)?void 0:e.cityId)||(null==a?void 0:a.$cityId)||(a.$store.getCacheValue("cityIdCache")||{}).cityId||0,district_id:(null==(t=null==i?void 0:i.address)?void 0:t.districtId)||0,device_grade:a.$deviceGrade.getSimpleDeviceGrading(),user_id:(null==(n=a.globalData)?void 0:n.userId)||"",uuid:(null==(r=a.globalData)?void 0:r.uuid)||""}}function q(){const e=new Date,t=new Date;return t.setHours(e.getHours()+1),t.setMinutes(0),t.setSeconds(0),t.getTime()}function _(){return e=this,t=null,n=function*(){return new Promise(((e,t)=>{var n,r,a,i;(null==(r=null==(n=getApp())?void 0:n.$user)?void 0:r.openid)&&(null==(i=null==(a=getApp())?void 0:a.$user)?void 0:i.unionid)?(y.log.info("getOpenidAndUnionid has exist $user"),e(getApp().$user)):c.default.getOpenidAndUnionid({success(t){y.log.info("getOpenidAndUnionid oneid.getOpenidAndUnionid success",t),e(t)},fail(e){y.log.info("getOpenidAndUnionid oneid.getOpenidAndUnionid fail",e),t(e)}})}))},new Promise(((r,a)=>{var i=e=>{try{u(n.next(e))}catch(e){a(e)}},o=e=>{try{u(n.throw(e))}catch(e){a(e)}},u=e=>e.done?r(e.value):Promise.resolve(e.value).then(i,o);u((n=n.apply(e,t)).next())}));var e,t,n}