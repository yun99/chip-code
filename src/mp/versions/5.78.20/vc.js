var e=Object.create,t=Object.defineProperty,r=Object.getOwnPropertyDescriptor,o=Object.getOwnPropertyNames,a=Object.getPrototypeOf,n=Object.prototype.hasOwnProperty,c=e=>t(e,"__esModule",{value:!0});((e,r)=>{for(var o in c(e),r)t(e,o,{get:r[o],enumerable:!0})})(exports,{failover:()=>i,setFailOver:()=>p,shouldFailOver:()=>l});var s,u=(s=require("./is.js"),((e,a,c)=>{if(a&&"object"==typeof a||"function"==typeof a)for(let s of o(a))n.call(e,s)||"default"===s||t(e,s,{get:()=>a[s],enumerable:!(c=r(a,s))||c.enumerable});return e})(c(t(null!=s?e(a(s)):{},"default",s&&s.__esModule&&"default"in s?{get:()=>s.default,enumerable:!0}:{value:s,enumerable:!0})),s)),i=!1,l=function(e){const t=function(e){const{statusCode:t}=e;return!!(200!==t||e.data&&0!==e.data.code)}(e);return t&&!1===i&&(i=!0,d()),i},p=function(e){return!0===e&&!1===i&&d(),i=e},d=()=>{setTimeout((()=>{return e=void 0,t=null,r=function*(){const e=getApp();try{const t=new Promise(((t,r)=>e.$cloud.callContainer({path:"/api/c/check/json",method:"GET",header:{"X-WX-REGION":"ap-beijing","X-WX-EXCLUDE-CREDENTIALS":"unionid, cloudbase-access-token, openid","x-wx-service":"enovytest",HOST:"bi-mall.meituan.com","X-WX-GATEWAY-ID":"yx-wxapp-prod-8gwij1e807aefb86","content-type":"application/json"},success:t,fail:r}))),r=yield t;r&&200===r.statusCode?(e.$cat&&e.$cat.reportCustomMetrics(u.CloudContainerMetrics.CLOUD_CONTAINER_RECOVER),p(!1)):(e.$cat&&e.$cat.reportCustomMetrics(u.CloudContainerMetrics.CLOUD_CONTAINER_STILL_DOWN),d())}catch(t){e.$cat&&e.$cat.reportCustomMetrics(u.CloudContainerMetrics.CLOUD_CONTAINER_STILL_DOWN),d()}},new Promise(((o,a)=>{var n=e=>{try{s(r.next(e))}catch(e){a(e)}},c=e=>{try{s(r.throw(e))}catch(e){a(e)}},s=e=>e.done?o(e.value):Promise.resolve(e.value).then(n,c);s((r=r.apply(e,t)).next())}));var e,t,r}),1e3*(180+240*Math.random()))};