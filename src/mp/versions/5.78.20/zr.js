var e=Object.create,t=Object.defineProperty,r=Object.getOwnPropertyDescriptor,n=Object.getOwnPropertyNames,u=Object.getPrototypeOf,o=Object.prototype.hasOwnProperty,i=e=>t(e,"__esModule",{value:!0}),s=s=>((e,u,i)=>{if(u&&"object"==typeof u||"function"==typeof u)for(let s of n(u))o.call(e,s)||"default"===s||t(e,s,{get:()=>u[s],enumerable:!(i=r(u,s))||i.enumerable});return e})(i(t(null!=s?e(u(s)):{},"default",s&&s.__esModule&&"default"in s?{get:()=>s.default,enumerable:!0}:{value:s,enumerable:!0})),s);((e,r)=>{for(var n in i(e),r)t(e,n,{get:r[n],enumerable:!0})})(exports,{checkIsSafe:()=>m,createApiInterceptor:()=>y,findMaxVersion:()=>d,isSafeSymbol:()=>p,use:()=>b});var a=s(require("./nf.js")),c=s(require("./ns.js")),l=s(require("./na.js")),f=s(require("./nd.js")),p=Symbol("isSafe");function m(e,t){return!(!e||!(0,c.isFunc)(e[p]))&&(!!e[p](t)||m(Object.getPrototypeOf(e),t))}function y(e,t="2.0.9"){return function(r,n){return e(n)?r:function(...e){return m(this,n)||setTimeout((()=>{throw new Error(`wx.${n}需要兼容${t}： wx.use('${n}', (wx) => { /*高版本逻辑*/ }, () => { /*低版本降级逻辑*/ })`)}),0),r.call(this,...e)}}}function d(e){return e.reduce(((e,t)=>(0,f.default)(e,t)<0?t:e),"0")}function b(e="2.0.9"){return(0,a.default)("wx.use",((t,{intercept:r})=>{!function(e,t){const r=d(Object.keys(t));if((0,f.default)(e,r)>=0)throw new Error(`指定的兼容版本（${e}）高于当前最高版本（${r}），兼容性检查将失效。请升级mp-runtime以更新当前最高版本。`)}(e,l.apiVersion);const n=function(e,t){const r=Object.keys(e),n=[];return r.filter((e=>(0,f.default)(e,t)<=0)).forEach((t=>{n.push(...e[t])})),e=>n.includes(e)}(l.apiVersion,e);r(t,y(n,e));const u=(0,c.createWxUse)(e);Object.defineProperty(t,"use",{value:function(e,t,r){return u.call(this,e,(()=>{const r=[].concat(e);return r.every((e=>n(e)||m(this,e)))?t(this):t(function(e,t){const r=Object.create(e);return Object.defineProperty(r,p,{value:e=>t.includes(e)}),r}(this,r))}),r)}})}))}