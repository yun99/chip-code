var r=Object.defineProperty;function e(r){const e=this.config;return null==e.retryFilter&&(e.retryFilter=r=>null==r.method||"GET"===r.method),t=>{let n=e.retry||t.retry||1;if(e.retryFilter(t)){const o=()=>r(t).catch((r=>r)).then((r=>{if(r&&(200===r.statusCode||"request:ok"==r.errMsg))return r;if(n>0)return n--,o();const u=`[mt-weapp-request failed]: ${t.url}, ${r&&(r.errMsg||r.message)}`;if(e.throwError)throw new Error(u);return r}));return o()}return r(t)}}((e,t)=>{for(var n in(e=>{r(e,"__esModule",{value:!0})})(e),t)r(e,n,{get:t[n],enumerable:!0})})(exports,{default:()=>e});