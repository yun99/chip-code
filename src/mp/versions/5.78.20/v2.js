var e=Object.defineProperty;((a,s)=>{for(var r in(a=>{e(a,"__esModule",{value:!0})})(a),s)e(a,r,{get:s[r],enumerable:!0})})(exports,{default:()=>a});var a=class{constructor(){this.pendingCallbacksMap=new Map,this.judgeExecNow=null}resetPending(){this.pendingCallbacksMap=new Map}injectJudges(e){this.judgeExecNow=e}deferredCallback(e){return(...a)=>{if(this.judgeExecNow&&"function"==typeof this.judgeExecNow){const{judgeExecNow:s}=this;if(s(...a))return void e(...a)}this.pendingCallbacksMap.set(e,{t:Date.now(),args:Array.from(a)})}}execDeferredCallbacks(e){const a=Array.from(this.pendingCallbacksMap.entries()).sort((([e,a],[s,r])=>a.t-r.t));for(const[s,r]of a)r.args.push("execDeferredCallbacks"),s.apply(e,r.args);this.pendingCallbacksMap=new Map}};